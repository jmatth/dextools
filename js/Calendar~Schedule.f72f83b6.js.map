{"version":3,"sources":["webpack:///./src/components/AgendaCalendar.vue?d214","webpack:///./src/components/EventInfoDialog.vue?6d43","webpack:///./src/components/EventInfoDialog.vue","webpack:///./src/components/EventInfoDialog.vue?35b3","webpack:///./src/components/EventInfoDialog.vue?e6e9","webpack:///./src/components/AgendaCalendar.vue","webpack:///./src/components/AgendaCalendar.vue?54ae","webpack:///../../../src/mixins/button-group/index.ts","webpack:///../../../src/components/VBtnToggle/VBtnToggle.ts","webpack:///../../../src/mixins/localable/index.ts","webpack:///../../../../src/components/VCalendar/mixins/mouse.ts","webpack:///../../src/util/dateTimeUtils.ts","webpack:///../../../../src/components/VCalendar/util/timestamp.ts","webpack:///../../../../src/components/VCalendar/mixins/times.ts","webpack:///../../../../src/components/VCalendar/modes/common.ts","webpack:///../../../../src/components/VCalendar/modes/stack.ts","webpack:///../../../../src/components/VCalendar/modes/column.ts","webpack:///../../../../src/components/VCalendar/modes/index.ts","webpack:///../../../../src/components/VCalendar/util/props.ts","webpack:///../../../../src/components/VCalendar/mixins/calendar-base.ts","webpack:///../../../../src/components/VCalendar/util/events.ts","webpack:///../../../../src/components/VCalendar/mixins/calendar-with-events.ts","webpack:///../../../src/components/VCalendar/VCalendarWeekly.ts","webpack:///../../../src/components/VCalendar/VCalendarMonthly.ts","webpack:///../../../../src/components/VCalendar/mixins/calendar-with-intervals.ts","webpack:///../../../src/components/VCalendar/VCalendarDaily.ts","webpack:///../../../src/components/VCalendar/VCalendarCategory.ts","webpack:///../../../src/components/VCalendar/VCalendar.ts","webpack:///./src/components/AgendaCalendar.vue?a5f7","webpack:///./node_modules/vuetify-loader/lib/runtime/installDirectives.js","webpack:///../../../src/components/VSkeletonLoader/VSkeletonLoader.ts","webpack:///./src/components/AgendaCalendar.vue?7f30","webpack:///../../../src/components/VBtn/index.ts","webpack:///./node_modules/core-js/modules/es.number.max-safe-integer.js"],"names":["_vm","this","_h","$createElement","_c","_self","attrs","calType","staticClass","prevDisabled","on","$event","prevDay","_v","_e","nextDisabled","nextDay","model","value","callback","$$v","calTypeIndex","expression","directives","name","rawName","ref","style","height","calendarHeight","intervalHeight","startCal","endCal","formatDayHeader","calEvents","eventColor","eventClicked","currDate","focusedEvent","staticRenderFns","event","scopedSlots","_u","key","fn","toggleBtnColor","toggleEvent","_s","toggleBtnText","proxy","show","system","authors","presenters","weekday","from","to","description","code","title","start_time","end_time","filled","hi_test","test_type","tags","m","minute","format","$store","commit","update","$emit","startTime","formatTime","endTime","state","agenda","contains","components","Dialog","VBtn","VCol","VContainer","VRow","weekdayStrMap","initialView","warn","calendarEl","$refs","calendar","$el","getBoundingClientRect","headerHeight","querySelector","computedIntervalHeight","Math","max","lastEventAdded","startDate","date","dateMoment","startDateMoment","match","isSame","eventMins","duration","diff","asMinutes","oldOverlappingCount","events","reduce","acc","e","isAfter","isBefore","next","prev","hasConflict","dayObj","weekdayStr","day","vueEvent","schedule","types","length","error","Object","values","lastAdded","scheduleEvents","calEventFormat","calEventMidnightEndFormat","map","some","other","conflicts","start","end","hour","subtract","ebt","Map","forEach","startStr","has","set","get","push","Array","$vuetify","breakpoint","smAndDown","application","top","EventInfoDialog","provide","btnToggle","computed","classes","methods","genData","mixins","props","backgroundColor","borderless","dense","group","rounded","shaped","tile","Boolean","themeClasses","data","setTextColor","setBackgroundColor","locale","String","currentLocale","lang","getDefaultMouseEventHandlers","getMouseEventHandlers","prevent","result","eventOptions","prefix","handler","mouseEvent","getEvent","createUTCDate","month","year","Date","isFinite","firstWeekOffset","firstWeekDayInFirstWeek","firstDayOfWeek","firstWeekDayOfYear","dayOfYear","isLeapYear","weeksInYear","weekOffset","weekOffsetNext","daysInYear","week","PARSE_REGEX","PARSE_TIME","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP","DAYS_IN_MONTH_MIN","DAYS_IN_MONTH_MAX","MONTH_MAX","MONTH_MIN","DAY_MIN","DAYS_IN_WEEK","MINUTES_IN_HOUR","MINUTE_MAX","MINUTES_IN_DAY","HOUR_MAX","OFFSET_YEAR","OFFSET_MONTH","OFFSET_HOUR","OFFSET_TIME","copyTimestamp","findWeekday","weekdays","updateFormatted","updateRelative","today","updateWeekday","daysInMonth","input","parts","parseInt","required","parseDate","now","Error","timestamp","time","hasDay","hasTime","past","present","future","getDayIdentifier","getTimeIdentifier","a","b","getTime","minutes","getWeekday","getDate","_","k","C","Y","padded","str","padNumber","mover","days","min","M","D","h","maxDays","skips","i","skip","j","stop","current","currentIdentifier","stopped","weekdaySkips","relativeDays","intervals","mins","first","int","updateMinutes","emptyFormatter","_t","Intl","intlFormatter","getOptions","type","validator","validateTimestamp","times","parsedNow","watch","created","setPresent","updateTimes","getNow","updateDay","target","updateTime","MILLIS_IN_DAY","minStart","visuals","columnCount","column","left","width","exclude","s0","e0","groups","groupVisual","dayStart","intersected","hasOverlap","timed","getRange","getDayRange","groupStart","groupEnd","reset","getVisuals","getTimestampIdentifier","dayEvents","visual","setColumnCount","targetGroup","getOpenGroup","FULL_WIDTH","DEFAULT_OFFSET","WIDTH_MULTIPLIER","firstWeekday","overlapThreshold","getOverlapGroupHandler","getGroups","nodes","child","getNode","index","getNextIndex","parent","getParent","addTime","getOverlappingRange","children","grand","grandNext","calculateBounds","columns","getMaxChildIndex","spaceLeft","spaceWidth","offset","columnWidthMultiplier","getColumnWidthMultiplier","node","columnOffset","columnWidth","hasFullWidth","maxColumn","minColumn","c","getOverlappingIndices","indices","returnFirstColumn","overlapping","n","getNormalizedRange","added","sibling","childMax","removeMinutes","identifier","totalMinutes","addHours","addMinutes","CalendarEventOverlapModes","stack","base","Number","validate","default","validateWeekdays","hideHeader","shortWeekdays","weekdayFormat","dayFormat","shortIntervals","validateNumber","intervalWidth","intervalMinutes","firstInterval","firstTime","validateTime","intervalCount","intervalFormat","intervalStyle","showIntervalLabel","weeks","localeFirstDayOfYear","minWeeks","shortMonths","showMonthOnFirst","showWeek","monthFormat","category","categories","categoryHideDynamic","categoryShowAll","categoryForInvalid","categoryDays","x","eventStart","eventEnd","eventTimed","eventCategory","eventHeight","eventTextColor","eventName","eventOverlapThreshold","eventOverlapMode","mode","eventMore","eventMoreText","eventRipple","eventMarginBottom","ints","visited","wrapped","d","Resize","parsedWeekdays","getWeekdaySkips","weekdaySkipsReverse","reversed","reverse","parsedStart","parsedEnd","createDayList","dayFormatter","options","timeZone","createNativeLocaleFormatter","weekdayFormatter","longOptions","shortOptions","short","getRelativeClasses","outside","getStartOfWeek","getEndOfWeek","getFormatter","startInput","endInput","startParsed","endParsed","isTimedless","updateHasTime","startIdentifier","startTimestampIdentifier","endIdentifier","endOffset","endTimestampIdentifier","allDay","dayIdentifier","isEventOn","WIDTH_FULL","WIDTH_START","ripple","noEvents","parsedEvents","parsedEventOverlapThreshold","eventColorFunction","eventTimedFunction","eventCategoryFunction","eventTextColorFunction","eventNameFunction","eventModeFunction","eventWeekdays","categoryMode","parseEvent","formatter","withTime","undefined","updateEventVisibility","eventsMap","more","parentBounds","last","hide","hidden","eventBounds","t","getEventsMap","elements","el","genDayEvent","weekdayIdentifier","scope","eventParsed","genEvent","class","refInFor","genTimedEvent","bottom","slot","$scopedSlots","text","background","overlapsNoon","singline","diffMinutes","timeSummary","eventSummary","delimiter","scopeInput","nativeEvent","genName","domProps","innerHTML","genPlaceholder","genMore","click","display","getVisibleEvents","filter","isEventOverlapping","isEventForCategory","getEventsForDay","isEventStart","getEventsForDayAll","getEventsForDayTimed","getScopedSlots","isNode","getSlotChildren","getter","mapper","mapped","slots","slotDay","slotDayHeader","slotDayBody","parsedMinWeeks","minDays","todayWeek","monthFormatter","isOutside","genHead","genHeadDays","header","genHeadDay","color","genWeeks","weekDays","genWeek","getWeekNumber","weekNodes","genWeekNumber","weekNumber","determineDay","genDay","genDayLabel","genDayLabelButton","hasMonth","fab","depressed","small","genDayMonth","render","dragstart","getStartOfMonth","getEndOfMonth","parsedFirstInterval","parsedIntervalMinutes","parsedIntervalCount","parsedIntervalHeight","parseFloat","parsedFirstTime","parseTime","firstMinute","bodyHeight","count","createIntervalList","intervalFormatter","shortHourOptions","tms","showIntervalLabelDefault","isFirst","interval","intervalStyleDefault","getTimestampAtEvent","bounds","baseMinutes","touchEvent","touches","clientY","addIntervals","getSlotScope","scrollToTime","y","timeToY","pane","minutesToPixels","clamp","timeDelta","gap","scrollPush","mounted","init","onResize","getScrollPush","area","marginRight","genHeadIntervals","genHeadWeekday","genHeadDayLabel","genDayHeader","genHeadDayButton","genBody","genScrollArea","genPane","genDayContainer","genDays","genDayIntervals","genDayBody","genDayInterval","styler","genBodyIntervals","genIntervalLabels","genIntervalLabel","shower","label","modifiers","quiet","parsedCategories","split","getCategoryScope","genDayHeaderCategory","genDayHeaderCategoryTitle","genDayBodyCategory","lastStart","lastEnd","parsedValue","parsedCategoryDays","renderProps","around","component","getCategoryList","spanYears","spanMonths","monthShortFormatter","monthLongFormatter","updated","window","checkChange","move","amount","moved","forward","limit","$children","parseTimestamp","timestampToDate","categoryMap","categoryLength","ev","VBtnToggle","VCalendar","VCard","VDivider","VIcon","VSpacer","VToolbar","module","exports","extendOptions","boilerplate","loading","transition","role","$attrs","elevationClasses","isLoading","rootTypes","actions","article","avatar","button","card","chip","heading","image","paragraph","sentences","table","genBone","genBones","bone","generator","genStructure","mapBones","genSkeleton","afterEnter","beforeEnter","beforeLeave","leaveCancelled","resetStyles","bones","onBeforeEnter","onBeforeLeave","$","stat","MAX_SAFE_INTEGER"],"mappings":"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","file":"js/Calendar~Schedule.f72f83b6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"height\":\"100%\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[(_vm.calType === 'day')?_c('v-btn',{staticClass:\"mr-1\",attrs:{\"small\":\"\",\"depressed\":\"\",\"disabled\":_vm.prevDisabled,\"left\":\"\",\"color\":\"primary\",\"aria-label\":\"Previous day\"},on:{\"click\":function($event){return _vm.prevDay()}}},[_c('v-icon',[_vm._v(\" keyboard_arrow_left \")])],1):_vm._e(),(_vm.calType === 'day')?_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"depressed\":\"\",\"disabled\":_vm.nextDisabled,\"left\":\"\",\"color\":\"primary\",\"aria-label\":\"Next day\"},on:{\"click\":function($event){return _vm.nextDay()}}},[_c('v-icon',[_vm._v(\" keyboard_arrow_right \")])],1):_vm._e(),_c('v-spacer'),_c('v-btn-toggle',{attrs:{\"mandatory\":\"\",\"dense\":\"\"},model:{value:(_vm.calTypeIndex),callback:function ($$v) {_vm.calTypeIndex=$$v},expression:\"calTypeIndex\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\"}},[_vm._v(\"Day\")]),_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\"}},[_vm._v(\"Week\")])],1)],1),_c('v-divider'),_c('v-calendar',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.updateComputedHeights),expression:\"updateComputedHeights\"}],ref:\"calendar\",staticClass:\"my-calendar\",style:({ height: _vm.calendarHeight }),attrs:{\"color\":\"primary\",\"interval-height\":_vm.intervalHeight,\"type\":_vm.calType,\"start\":_vm.startCal,\"end\":_vm.endCal,\"weekday-format\":_vm.formatDayHeader,\"events\":_vm.calEvents,\"event-color\":_vm.eventColor},on:{\"click:event\":_vm.eventClicked},model:{value:(_vm.currDate),callback:function ($$v) {_vm.currDate=$$v},expression:\"currDate\"}}),_c('EventInfoDialog',{model:{value:(_vm.focusedEvent),callback:function ($$v) {_vm.focusedEvent=$$v},expression:\"focusedEvent\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!!_vm.event)?_c('Dialog',{attrs:{\"title\":((_vm.event.code) + \": \" + (_vm.event.title))},scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('v-btn',{attrs:{\"min-width\":\"80px\",\"color\":_vm.toggleBtnColor},on:{\"click\":_vm.toggleEvent}},[_vm._v(\" \"+_vm._s(_vm.toggleBtnText)+\" \")])]},proxy:true}],null,false,819673972),model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"9\"}},[(_vm.event.system)?[_vm._v(\" \"+_vm._s(_vm.event.system)+\" \")]:_vm._e(),(_vm.event.authors)?[_vm._v(\" by \"+_vm._s(_vm.event.authors)+\"; \")]:_vm._e(),(_vm.event.presenters)?[_vm._v(\" presented by \"+_vm._s(_vm.event.presenters)+\" \")]:_vm._e()],2),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('span',{staticClass:\"float-sm-right\"},[_vm._v(\" \"+_vm._s(_vm.weekday)+\", \"+_vm._s(_vm.from)+\" - \"+_vm._s(_vm.to)+\" \")])])],1),_c('v-row',{},[_c('v-col',{staticClass:\"pb-0\"},[_c('p',{staticClass:\"mb-0\",attrs:{\"align\":\"justify\"}},[_vm._v(\" \"+_vm._s(_vm.event.description)+\" \")])])],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\nimport Dialog from '@/components/Dialog.vue';\nimport Agenda from '@/models/agenda';\nimport Event from '@/models/event';\nimport moment, { Moment } from 'moment';\nimport log from 'loglevel';\n\n@Component({\n  components: {\n    Dialog,\n  },\n})\nexport default class EventInfoDialog extends Vue {\n  @Prop() private value!: Event;\n\n  private event: Event = new Event({\n    code: '',\n    title: 'Placeholder',\n    description: 'Dummy event for unrendered dialog',\n    system: '',\n    presenters: '',\n    authors: '',\n    start_time: '2020-11-01 10:00',\n    end_time: '2020-11-01 12:00',\n    filled: false,\n    hi_test: false,\n    test_type: '',\n    tags: '',\n  });\n\n  @Watch('value')\n  private onValueChange(): void {\n    if (!!this.value) {\n      this.event = this.value;\n    }\n  }\n\n  get show(): boolean {\n    return !!this.value;\n  }\n\n  set show(update) {\n    this.$emit('input', null);\n  }\n\n  get weekday(): string {\n    return this.event.startTime.format('dddd');\n  }\n\n  get from(): string {\n    return this.formatTime(this.event.startTime);\n  }\n\n  get to(): string {\n    return this.formatTime(this.event.endTime);\n  }\n\n  get toggleBtnText(): string {\n    return this.$store.state.agenda.contains(this.event.code)\n      ? 'Remove'\n      : 'Add';\n  }\n\n  get toggleBtnColor(): string {\n    return this.$store.state.agenda.contains(this.event.code)\n      ? 'error'\n      : 'success';\n  }\n\n  private formatTime(m: Moment): string {\n    return m.minute() === 0 ? m.format('hA') : m.format('h:mmA');\n  }\n\n  private toggleEvent(): void {\n    this.$store.commit('toggleEvent', this.event.code);\n    this.show = false;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventInfoDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventInfoDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EventInfoDialog.vue?vue&type=template&id=4fbe96fe&\"\nimport script from \"./EventInfoDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./EventInfoDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VContainer,VRow})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\nimport EventInfoDialog from '@/components/EventInfoDialog.vue';\nimport Agenda from '@/models/agenda';\nimport Event from '@/models/event';\nimport moment, { Moment } from 'moment';\nimport log from 'loglevel';\n\n@Component({\n  components: {\n    EventInfoDialog,\n  },\n})\nexport default class AgendaCalendar extends Vue {\n  @Prop() private initialView?: string;\n\n  public currDate = '';\n  public intervalHeight = 10;\n  public focusedEvent: Event | null = null;\n  public calTypeIndex: number = 0;\n  private resizeListener: any;\n\n  private weekdayStrMap: string[] = [\n    'Sun',\n    'Mon',\n    'Tue',\n    'Wed',\n    'Thu',\n    'Fri',\n    'Sat',\n  ];\n\n  public created() {\n    this.currDate = this.startCal;\n    if (this.initialView) {\n      switch (this.initialView) {\n        case 'day':\n          this.calTypeIndex = 0;\n          break;\n        case 'custom-daily':\n          this.calTypeIndex = 1;\n          break;\n        default:\n          log.warn(`Unrecognized initial calendar view: ${this.initialView}`);\n      }\n    }\n  }\n\n  private updateComputedHeights() {\n    const calendarEl = (this.$refs.calendar as Vue).$el;\n    const calendarHeight = calendarEl.getBoundingClientRect().height;\n    const headerHeight = calendarEl.querySelector('div.v-calendar-daily__head')!.getBoundingClientRect().height;\n    const computedIntervalHeight = ((calendarHeight - headerHeight) - 1) / 24;\n    this.intervalHeight = Math.max(computedIntervalHeight, 10);\n  }\n\n  get calType(): string {\n    const types = ['day', 'custom-daily'];\n    if (this.calTypeIndex > types.length) {\n      log.error(`Invalid calTypeIndex (${this.calTypeIndex}), resetting to 0`);\n      this.calTypeIndex = 0;\n    }\n    return types[this.calTypeIndex];\n  }\n\n  get scheduleEvents(): Event[] {\n    return Object.values(this.$store.state.schedule);\n  }\n\n  get lastEventAdded() {\n    return this.$store.state.agenda.lastAdded;\n  }\n\n  @Watch('lastEventAdded')\n  private onEventAdded(): void {\n    this.currDate = this.lastEventAdded\n      ? (this.lastEventAdded.startTime as Moment).format('YYYY-MM-DD')\n      : this.currDate;\n  }\n\n  public startDateMatchesDate(startDate: any, date: any): boolean {\n    const dateMoment = moment(date);\n    const startDateMoment = moment(startDate);\n    const match = startDateMoment.isSame(dateMoment, 'day');\n    return match;\n  }\n\n  public eventMatchesDate(event: Event, date: any): boolean {\n    return event.startTime.isSame(date, 'day');\n  }\n\n  public getEventMinutes(event: Event): number {\n    const eventMins = moment.duration(event.endTime.diff(event.startTime)).asMinutes();\n    return eventMins;\n  }\n\n  public overlappingEventsCount(event: Event): number {\n    const oldOverlappingCount = this.$store.state.agenda.events.reduce((acc: number, e: Event) => {\n      if (e.code === event.code) {\n        return acc;\n      }\n      if (e.endTime.isAfter(event.startTime) && e.startTime.isBefore(event.startTime)) {\n        return acc + 1;\n      }\n      return acc;\n    }, 0);\n    return oldOverlappingCount;\n  }\n\n  get startCal(): string {\n    return this.scheduleEvents\n      .reduce((acc: Moment, e: Event) =>\n        acc && e.startTime.isAfter(acc) ? acc : e.startTime, this.scheduleEvents[0].startTime)\n      .format('YYYY-MM-DD');\n  }\n\n  get endCal(): string {\n    return this.scheduleEvents[this.scheduleEvents.length - 1].endTime.format('YYYY-MM-DD');\n  }\n\n  get nextDisabled() {\n    return this.currDate === this.endCal;\n  }\n\n  get prevDisabled() {\n    return this.currDate === this.startCal;\n  }\n\n  public nextDay() {\n    if (this.nextDisabled) {\n      return;\n    }\n    // @ts-ignore\n    this.$refs.calendar.next();\n  }\n\n  public prevDay() {\n    if (this.prevDisabled) {\n      return;\n    }\n    // @ts-ignore\n    this.$refs.calendar.prev();\n  }\n\n  get calEvents() {\n    const calEventFormat = 'YYYY-M-D HH:mm';\n    const calEventMidnightEndFormat = 'YYYY-M-D kk:mm';\n    const events = this.$store.state.agenda.events;\n\n    return events.map((e: Event) => {\n      const hasConflict = events.some((other: Event) => other.conflicts(e));\n      const start = e.startTime.format(calEventFormat);\n      const endTime = moment(e.endTime);\n      // If the event ends at midnight, roll it back a day and us different\n      // formatting so the output looks like 2020-02-02 24:00.\n      const end = endTime.hour() === 0\n        ? endTime.subtract(1, 'day').format(calEventMidnightEndFormat)\n        : endTime.format(calEventFormat);\n      return {\n        code: e.code,\n        name: `${e.code}: ${e.title}`,\n        start,\n        end,\n        hasConflict,\n      };\n    });\n  }\n\n  private eventColor(e: any) {\n    return e.hasConflict ? 'warning' : 'primary';\n  }\n\n  get eventsByStartTime() {\n    const ebt = new Map();\n    this.$store.state.agenda.events.forEach((e: Event) => {\n      const startStr = e.startTime.format();\n      if (!ebt.has(startStr)) {\n        ebt.set(startStr, []);\n      }\n      ebt.get(startStr).push(e);\n    });\n    return Array.from(ebt);\n  }\n\n  get allowResizing() {\n    // @ts-ignore\n    return !this.$vuetify.breakpoint.smAndDown;\n  }\n\n  get calendarHeight(): string {\n    return `calc(100% - ${this.$vuetify.application.top}px)`;\n  }\n\n  public formatDayHeader(dayObj: any): string {\n    const weekdayStr = this.weekdayStrMap[dayObj.weekday];\n    const day = dayObj.day;\n    return `${weekdayStr} ${day}`;\n  }\n\n  public eventClicked(vueEvent: any): void {\n    this.focusedEvent = this.$store.state.schedule[vueEvent.event.code];\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgendaCalendar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgendaCalendar.vue?vue&type=script&lang=ts&\"","// Extensions\nimport { BaseItemGroup } from '../../components/VItemGroup/VItemGroup'\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'button-group',\n\n  provide (): object {\n    return {\n      btnToggle: this,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return BaseItemGroup.options.computed.classes.call(this)\n    },\n  },\n\n  methods: {\n    // Isn't being passed down through types\n    genData: BaseItemGroup.options.methods.genData,\n  },\n})\n","// Styles\nimport './VBtnToggle.sass'\n\n// Mixins\nimport ButtonGroup from '../../mixins/button-group'\nimport Colorable from '../../mixins/colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  ButtonGroup,\n  Colorable\n).extend({\n  name: 'v-btn-toggle',\n\n  props: {\n    backgroundColor: String,\n    borderless: Boolean,\n    dense: Boolean,\n    group: Boolean,\n    rounded: Boolean,\n    shaped: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...ButtonGroup.options.computed.classes.call(this),\n        'v-btn-toggle': true,\n        'v-btn-toggle--borderless': this.borderless,\n        'v-btn-toggle--dense': this.dense,\n        'v-btn-toggle--group': this.group,\n        'v-btn-toggle--rounded': this.rounded,\n        'v-btn-toggle--shaped': this.shaped,\n        'v-btn-toggle--tile': this.tile,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genData () {\n      const data = this.setTextColor(this.color, {\n        ...ButtonGroup.options.methods.genData.call(this),\n      })\n\n      if (this.group) return data\n\n      return this.setBackgroundColor(this.backgroundColor, data)\n    },\n  },\n})\n","import Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'localable',\n\n  props: {\n    locale: String,\n  },\n\n  computed: {\n    currentLocale (): string {\n      return this.locale || this.$vuetify.lang.current\n    },\n  },\n})\n","import Vue from 'vue'\n\nexport type MouseHandler = (e: MouseEvent | TouchEvent) => any\n\nexport type MouseEvents = {\n  [event: string]: {\n    event: string\n    passive?: boolean\n    capture?: boolean\n    once?: boolean\n    stop?: boolean\n    prevent?: boolean\n    button?: number\n    result?: any\n  }\n}\n\nexport type MouseEventsMap = {\n  [event: string]: MouseHandler | MouseHandler[]\n}\n\nexport default Vue.extend({\n  name: 'mouse',\n\n  methods: {\n    getDefaultMouseEventHandlers (suffix: string, getEvent: MouseHandler): MouseEventsMap {\n      return this.getMouseEventHandlers({\n        ['click' + suffix]: { event: 'click' },\n        ['contextmenu' + suffix]: { event: 'contextmenu', prevent: true, result: false },\n        ['mousedown' + suffix]: { event: 'mousedown' },\n        ['mousemove' + suffix]: { event: 'mousemove' },\n        ['mouseup' + suffix]: { event: 'mouseup' },\n        ['mouseenter' + suffix]: { event: 'mouseenter' },\n        ['mouseleave' + suffix]: { event: 'mouseleave' },\n        ['touchstart' + suffix]: { event: 'touchstart' },\n        ['touchmove' + suffix]: { event: 'touchmove' },\n        ['touchend' + suffix]: { event: 'touchend' },\n      }, getEvent)\n    },\n    getMouseEventHandlers (events: MouseEvents, getEvent: MouseHandler): MouseEventsMap {\n      const on: MouseEventsMap = {}\n\n      for (const event in events) {\n        const eventOptions = events[event]\n\n        if (!this.$listeners[event]) continue\n\n        // TODO somehow pull in modifiers\n\n        const prefix = eventOptions.passive ? '&' : ((eventOptions.once ? '~' : '') + (eventOptions.capture ? '!' : ''))\n        const key = prefix + eventOptions.event\n\n        const handler: MouseHandler = e => {\n          const mouseEvent: MouseEvent = e as MouseEvent\n          if (eventOptions.button === undefined || (mouseEvent.buttons > 0 && mouseEvent.button === eventOptions.button)) {\n            if (eventOptions.prevent) {\n              e.preventDefault()\n            }\n            if (eventOptions.stop) {\n              e.stopPropagation()\n            }\n            this.$emit(event, getEvent(e))\n          }\n\n          return eventOptions.result\n        }\n\n        if (key in on) {\n          /* istanbul ignore next */\n          if (Array.isArray(on[key])) {\n            (on[key] as MouseHandler[]).push(handler)\n          } else {\n            on[key] = [on[key], handler] as MouseHandler[]\n          }\n        } else {\n          on[key] = handler\n        }\n      }\n\n      return on\n    },\n  },\n})\n","function createUTCDate (year: number, month = 0, day = 1) {\n  let date\n  if (year < 100 && year >= 0) {\n    date = new Date(Date.UTC(year, month, day))\n    if (isFinite(date.getUTCFullYear())) {\n      date.setUTCFullYear(year)\n    }\n  } else {\n    date = new Date(Date.UTC(year, month, day))\n  }\n\n  return date\n}\n\nfunction firstWeekOffset (year: number, firstDayOfWeek: number, firstDayOfYear: number) {\n  const firstWeekDayInFirstWeek = 7 + firstDayOfWeek - firstDayOfYear\n  const firstWeekDayOfYear = (7 + createUTCDate(year, 0, firstWeekDayInFirstWeek).getUTCDay() - firstDayOfWeek) % 7\n\n  return -firstWeekDayOfYear + firstWeekDayInFirstWeek - 1\n}\n\nfunction dayOfYear (year: number, month: number, day: number, firstDayOfWeek: number) {\n  let dayOfYear = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334][month]\n  if (month > 1 && isLeapYear(year)) {\n    dayOfYear++\n  }\n\n  return dayOfYear + day\n}\n\nfunction weeksInYear (year: number, firstDayOfWeek: number, firstDayOfYear: number) {\n  const weekOffset = firstWeekOffset(year, firstDayOfWeek, firstDayOfYear)\n  const weekOffsetNext = firstWeekOffset(year + 1, firstDayOfWeek, firstDayOfYear)\n  const daysInYear = isLeapYear(year) ? 366 : 365\n\n  return (daysInYear - weekOffset + weekOffsetNext) / 7\n}\n\nexport function weekNumber (year: number, month: number, day: number, firstDayOfWeek: number, localeFirstDayOfYear: number): number {\n  const weekOffset = firstWeekOffset(year, firstDayOfWeek, localeFirstDayOfYear)\n  const week = Math.ceil((dayOfYear(year, month, day, firstDayOfWeek) - weekOffset) / 7)\n\n  if (week < 1) {\n    return week + weeksInYear(year - 1, firstDayOfWeek, localeFirstDayOfYear)\n  } else if (week > weeksInYear(year, firstDayOfWeek, localeFirstDayOfYear)) {\n    return week - weeksInYear(year, firstDayOfWeek, localeFirstDayOfYear)\n  } else {\n    return week\n  }\n}\n\nexport function isLeapYear (year: number): boolean {\n  return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0)\n}\n","import { CalendarTimestamp, CalendarFormatter } from 'vuetify/types'\nimport { isLeapYear } from '../../../util/dateTimeUtils'\n\nexport const PARSE_REGEX: RegExp = /^(\\d{4})-(\\d{1,2})(-(\\d{1,2}))?([^\\d]+(\\d{1,2}))?(:(\\d{1,2}))?(:(\\d{1,2}))?$/\nexport const PARSE_TIME: RegExp = /(\\d\\d?)(:(\\d\\d?)|)(:(\\d\\d?)|)/\n\nexport const DAYS_IN_MONTH: number[] = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_LEAP: number[] = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_MIN = 28\nexport const DAYS_IN_MONTH_MAX = 31\nexport const MONTH_MAX = 12\nexport const MONTH_MIN = 1\nexport const DAY_MIN = 1\nexport const DAYS_IN_WEEK = 7\nexport const MINUTES_IN_HOUR = 60\nexport const MINUTE_MAX = 59\nexport const MINUTES_IN_DAY = 24 * 60\nexport const HOURS_IN_DAY = 24\nexport const HOUR_MAX = 23\nexport const FIRST_HOUR = 0\nexport const OFFSET_YEAR = 10000\nexport const OFFSET_MONTH = 100\nexport const OFFSET_HOUR = 100\nexport const OFFSET_TIME = 10000\n\ntype CalendarTimestampFormatOptions = (timestamp: CalendarTimestamp, short: boolean) => object\ntype CalendarTimestampOperation = (timestamp: CalendarTimestamp) => CalendarTimestamp\nexport type VTime = number | string | {\n  hour: number\n  minute: number\n}\n\nexport type VTimestampInput = number | string | Date;\n\nexport function getStartOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  findWeekday(start, weekdays[0], prevDay)\n  updateFormatted(start)\n  if (today) {\n    updateRelative(start, today, start.hasTime)\n  }\n\n  return start\n}\n\nexport function getEndOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  findWeekday(end, weekdays[weekdays.length - 1])\n  updateFormatted(end)\n  if (today) {\n    updateRelative(end, today, end.hasTime)\n  }\n\n  return end\n}\n\nexport function getStartOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  start.day = DAY_MIN\n  updateWeekday(start)\n  updateFormatted(start)\n\n  return start\n}\n\nexport function getEndOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  end.day = daysInMonth(end.year, end.month)\n  updateWeekday(end)\n  updateFormatted(end)\n\n  return end\n}\n\nexport function validateTime (input: any): input is VTime {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (!!PARSE_TIME.exec(input)) ||\n    (typeof input === 'object' && isFinite(input.hour) && isFinite(input.minute))\n}\n\nexport function parseTime (input: any): number | false {\n  if (typeof input === 'number') {\n    // when a number is given, it's minutes since 12:00am\n    return input\n  } else if (typeof input === 'string') {\n    // when a string is given, it's a hh:mm:ss format where seconds are optional\n    const parts = PARSE_TIME.exec(input)\n    if (!parts) {\n      return false\n    }\n\n    return parseInt(parts[1]) * 60 + parseInt(parts[3] || 0)\n  } else if (typeof input === 'object') {\n    // when an object is given, it must have hour and minute\n    if (typeof input.hour !== 'number' || typeof input.minute !== 'number') {\n      return false\n    }\n\n    return input.hour * 60 + input.minute\n  } else {\n    // unsupported type\n    return false\n  }\n}\n\nexport function validateTimestamp (input: any): input is VTimestampInput {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (typeof input === 'string' && !!PARSE_REGEX.exec(input)) ||\n    (input instanceof Date)\n}\n\nexport function parseTimestamp (input: VTimestampInput, required?: false, now?: CalendarTimestamp): CalendarTimestamp | null\nexport function parseTimestamp (input: VTimestampInput, required: true, now?: CalendarTimestamp): CalendarTimestamp\nexport function parseTimestamp (input: VTimestampInput, required = false, now?: CalendarTimestamp): CalendarTimestamp | null {\n  if (typeof input === 'number' && isFinite(input)) {\n    input = new Date(input)\n  }\n\n  if (input instanceof Date) {\n    const date: CalendarTimestamp = parseDate(input)\n\n    if (now) {\n      updateRelative(date, now, date.hasTime)\n    }\n\n    return date\n  }\n\n  if (typeof input !== 'string') {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of seconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n    return null\n  }\n\n  // YYYY-MM-DD hh:mm:ss\n  const parts = PARSE_REGEX.exec(input)\n\n  if (!parts) {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of seconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n\n    return null\n  }\n\n  const timestamp: CalendarTimestamp = {\n    date: input,\n    time: '',\n    year: parseInt(parts[1]),\n    month: parseInt(parts[2]),\n    day: parseInt(parts[4]) || 1,\n    hour: parseInt(parts[6]) || 0,\n    minute: parseInt(parts[8]) || 0,\n    weekday: 0,\n    hasDay: !!parts[4],\n    hasTime: !!(parts[6] && parts[8]),\n    past: false,\n    present: false,\n    future: false,\n  }\n\n  updateWeekday(timestamp)\n  updateFormatted(timestamp)\n\n  if (now) {\n    updateRelative(timestamp, now, timestamp.hasTime)\n  }\n\n  return timestamp\n}\n\nexport function parseDate (date: Date): CalendarTimestamp {\n  return updateFormatted({\n    date: '',\n    time: '',\n    year: date.getFullYear(),\n    month: date.getMonth() + 1,\n    day: date.getDate(),\n    weekday: date.getDay(),\n    hour: date.getHours(),\n    minute: date.getMinutes(),\n    hasDay: true,\n    hasTime: true,\n    past: false,\n    present: true,\n    future: false,\n  })\n}\n\nexport function getDayIdentifier (timestamp: { year: number, month: number, day: number }): number {\n  return timestamp.year * OFFSET_YEAR + timestamp.month * OFFSET_MONTH + timestamp.day\n}\n\nexport function getTimeIdentifier (timestamp: { hour: number, minute: number }): number {\n  return timestamp.hour * OFFSET_HOUR + timestamp.minute\n}\n\nexport function getTimestampIdentifier (timestamp: CalendarTimestamp): number {\n  return getDayIdentifier(timestamp) * OFFSET_TIME + getTimeIdentifier(timestamp)\n}\n\nexport function updateRelative (timestamp: CalendarTimestamp, now: CalendarTimestamp, time = false): CalendarTimestamp {\n  let a = getDayIdentifier(now)\n  let b = getDayIdentifier(timestamp)\n  let present = a === b\n\n  if (timestamp.hasTime && time && present) {\n    a = getTimeIdentifier(now)\n    b = getTimeIdentifier(timestamp)\n    present = a === b\n  }\n\n  timestamp.past = b < a\n  timestamp.present = present\n  timestamp.future = b > a\n\n  return timestamp\n}\n\nexport function isTimedless (input: VTimestampInput): input is (Date | number) {\n  return (input instanceof Date) || (typeof input === 'number' && isFinite(input))\n}\n\nexport function updateHasTime (timestamp: CalendarTimestamp, hasTime: boolean, now?: CalendarTimestamp): CalendarTimestamp {\n  if (timestamp.hasTime !== hasTime) {\n    timestamp.hasTime = hasTime\n    if (!hasTime) {\n      timestamp.hour = HOUR_MAX\n      timestamp.minute = MINUTE_MAX\n      timestamp.time = getTime(timestamp)\n    }\n    if (now) {\n      updateRelative(timestamp, now, timestamp.hasTime)\n    }\n  }\n\n  return timestamp\n}\n\nexport function updateMinutes (timestamp: CalendarTimestamp, minutes: number, now?: CalendarTimestamp): CalendarTimestamp {\n  timestamp.hasTime = true\n  timestamp.hour = Math.floor(minutes / MINUTES_IN_HOUR)\n  timestamp.minute = minutes % MINUTES_IN_HOUR\n  timestamp.time = getTime(timestamp)\n  if (now) {\n    updateRelative(timestamp, now, true)\n  }\n\n  return timestamp\n}\n\nexport function updateWeekday (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.weekday = getWeekday(timestamp)\n\n  return timestamp\n}\n\nexport function updateFormatted (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.time = getTime(timestamp)\n  timestamp.date = getDate(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekday (timestamp: CalendarTimestamp): number {\n  if (timestamp.hasDay) {\n    const _ = Math.floor\n    const k = timestamp.day\n    const m = ((timestamp.month + 9) % MONTH_MAX) + 1\n    const C = _(timestamp.year / 100)\n    const Y = (timestamp.year % 100) - (timestamp.month <= 2 ? 1 : 0)\n\n    return (((k + _(2.6 * m - 0.2) - 2 * C + Y + _(Y / 4) + _(C / 4)) % 7) + 7) % 7\n  }\n\n  return timestamp.weekday\n}\n\nexport function daysInMonth (year: number, month: number) {\n  return isLeapYear(year) ? DAYS_IN_MONTH_LEAP[month] : DAYS_IN_MONTH[month]\n}\n\nexport function copyTimestamp (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future } = timestamp\n\n  return { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future }\n}\n\nexport function padNumber (x: number, length: number): string {\n  let padded = String(x)\n  while (padded.length < length) {\n    padded = '0' + padded\n  }\n\n  return padded\n}\n\nexport function getDate (timestamp: CalendarTimestamp): string {\n  let str = `${padNumber(timestamp.year, 4)}-${padNumber(timestamp.month, 2)}`\n\n  if (timestamp.hasDay) str += `-${padNumber(timestamp.day, 2)}`\n\n  return str\n}\n\nexport function getTime (timestamp: CalendarTimestamp): string {\n  if (!timestamp.hasTime) {\n    return ''\n  }\n\n  return `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n}\n\nexport function nextMinutes (timestamp: CalendarTimestamp, minutes: number): CalendarTimestamp {\n  timestamp.minute += minutes\n  while (timestamp.minute > MINUTES_IN_HOUR) {\n    timestamp.minute -= MINUTES_IN_HOUR\n    timestamp.hour++\n    if (timestamp.hour >= HOURS_IN_DAY) {\n      nextDay(timestamp)\n      timestamp.hour = FIRST_HOUR\n    }\n  }\n\n  return timestamp\n}\n\nexport function nextDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day++\n  timestamp.weekday = (timestamp.weekday + 1) % DAYS_IN_WEEK\n  if (timestamp.day > DAYS_IN_MONTH_MIN && timestamp.day > daysInMonth(timestamp.year, timestamp.month)) {\n    timestamp.day = DAY_MIN\n    timestamp.month++\n    if (timestamp.month > MONTH_MAX) {\n      timestamp.month = MONTH_MIN\n      timestamp.year++\n    }\n  }\n\n  return timestamp\n}\n\nexport function prevDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day--\n  timestamp.weekday = (timestamp.weekday + 6) % DAYS_IN_WEEK\n  if (timestamp.day < DAY_MIN) {\n    timestamp.month--\n    if (timestamp.month < MONTH_MIN) {\n      timestamp.year--\n      timestamp.month = MONTH_MAX\n    }\n    timestamp.day = daysInMonth(timestamp.year, timestamp.month)\n  }\n\n  return timestamp\n}\n\nexport function relativeDays (\n  timestamp: CalendarTimestamp,\n  mover: CalendarTimestampOperation = nextDay,\n  days = 1\n): CalendarTimestamp {\n  while (--days >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function diffMinutes (min: CalendarTimestamp, max: CalendarTimestamp) {\n  const Y = (max.year - min.year) * 525600\n  const M = (max.month - min.month) * 43800\n  const D = (max.day - min.day) * 1440\n  const h = (max.hour - min.hour) * 60\n  const m = (max.minute - min.minute)\n\n  return Y + M + D + h + m\n}\n\nexport function findWeekday (timestamp: CalendarTimestamp, weekday: number,\n  mover: CalendarTimestampOperation = nextDay, maxDays = 6): CalendarTimestamp {\n  while (timestamp.weekday !== weekday && --maxDays >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekdaySkips (weekdays: number[]): number[] {\n  const skips: number[] = [1, 1, 1, 1, 1, 1, 1]\n  const filled: number[] = [0, 0, 0, 0, 0, 0, 0]\n  for (let i = 0; i < weekdays.length; i++) {\n    filled[weekdays[i]] = 1\n  }\n  for (let k = 0; k < DAYS_IN_WEEK; k++) {\n    let skip = 1\n    for (let j = 1; j < DAYS_IN_WEEK; j++) {\n      const next = (k + j) % DAYS_IN_WEEK\n      if (filled[next]) {\n        break\n      }\n      skip++\n    }\n    skips[k] = filled[k] * skip\n  }\n\n  return skips\n}\n\nexport function timestampToDate (timestamp: CalendarTimestamp): Date {\n  const time = `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n  const date = timestamp.date\n\n  return new Date(`${date}T${time}:00+00:00`)\n}\n\nexport function createDayList (\n  start: CalendarTimestamp,\n  end: CalendarTimestamp,\n  now: CalendarTimestamp,\n  weekdaySkips: number[],\n  max = 42,\n  min = 0\n): CalendarTimestamp[] {\n  const stop = getDayIdentifier(end)\n  const days: CalendarTimestamp[] = []\n  let current = copyTimestamp(start)\n  let currentIdentifier = 0\n  let stopped = currentIdentifier === stop\n\n  if (stop < getDayIdentifier(start)) {\n    throw new Error('End date is earlier than start date.')\n  }\n\n  while ((!stopped || days.length < min) && days.length < max) {\n    currentIdentifier = getDayIdentifier(current)\n    stopped = stopped || currentIdentifier === stop\n    if (weekdaySkips[current.weekday] === 0) {\n      current = nextDay(current)\n      continue\n    }\n    const day = copyTimestamp(current)\n    updateFormatted(day)\n    updateRelative(day, now)\n    days.push(day)\n    current = relativeDays(current, nextDay, weekdaySkips[current.weekday])\n  }\n\n  if (!days.length) throw new Error('No dates found using specified start date, end date, and weekdays.')\n\n  return days\n}\n\nexport function createIntervalList (timestamp: CalendarTimestamp, first: number,\n  minutes: number, count: number, now?: CalendarTimestamp): CalendarTimestamp[] {\n  const intervals: CalendarTimestamp[] = []\n\n  for (let i = 0; i < count; i++) {\n    const mins = first + (i * minutes)\n    const int = copyTimestamp(timestamp)\n    intervals.push(updateMinutes(int, mins, now))\n  }\n\n  return intervals\n}\n\nexport function createNativeLocaleFormatter (locale: string, getOptions: CalendarTimestampFormatOptions): CalendarFormatter {\n  const emptyFormatter: CalendarFormatter = (_t, _s) => ''\n\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return emptyFormatter\n  }\n\n  return (timestamp, short) => {\n    try {\n      const intlFormatter = new Intl.DateTimeFormat(locale || undefined, getOptions(timestamp, short))\n\n      return intlFormatter.format(timestampToDate(timestamp))\n    } catch (e) {\n      return ''\n    }\n  }\n}\n","import Vue from 'vue'\n\nimport {\n  validateTimestamp,\n  parseTimestamp,\n  parseDate,\n} from '../util/timestamp'\nimport { CalendarTimestamp } from 'vuetify/types'\n\nexport default Vue.extend({\n  name: 'times',\n\n  props: {\n    now: {\n      type: String,\n      validator: validateTimestamp,\n    },\n  },\n\n  data: () => ({\n    times: {\n      now: parseTimestamp('0000-00-00 00:00', true),\n      today: parseTimestamp('0000-00-00', true),\n    },\n  }),\n\n  computed: {\n    parsedNow (): CalendarTimestamp | null {\n      return this.now ? parseTimestamp(this.now, true) : null\n    },\n  },\n\n  watch: {\n    parsedNow: 'updateTimes',\n  },\n\n  created () {\n    this.updateTimes()\n    this.setPresent()\n  },\n\n  methods: {\n    setPresent (): void {\n      this.times.now.present = this.times.today.present = true\n      this.times.now.past = this.times.today.past = false\n      this.times.now.future = this.times.today.future = false\n    },\n    updateTimes (): void {\n      const now: CalendarTimestamp = this.parsedNow || this.getNow()\n      this.updateDay(now, this.times.now)\n      this.updateTime(now, this.times.now)\n      this.updateDay(now, this.times.today)\n    },\n    getNow (): CalendarTimestamp {\n      return parseDate(new Date())\n    },\n    updateDay (now: CalendarTimestamp, target: CalendarTimestamp): void {\n      if (now.date !== target.date) {\n        target.year = now.year\n        target.month = now.month\n        target.day = now.day\n        target.weekday = now.weekday\n        target.date = now.date\n      }\n    },\n    updateTime (now: CalendarTimestamp, target: CalendarTimestamp): void {\n      if (now.time !== target.time) {\n        target.hour = now.hour\n        target.minute = now.minute\n        target.time = now.time\n      }\n    },\n  },\n})\n","import { CalendarEventParsed, CalendarEventVisual, CalendarTimestamp } from 'vuetify/types'\nimport { getTimestampIdentifier } from '../util/timestamp'\n\nconst MILLIS_IN_DAY = 86400000\n\nexport type GetRange = (event: CalendarEventParsed) => [number, number]\n\nexport function getVisuals (events: CalendarEventParsed[], minStart = 0): CalendarEventVisual[] {\n  const visuals = events.map(event => ({\n    event,\n    columnCount: 0,\n    column: 0,\n    left: 0,\n    width: 100,\n  }))\n\n  visuals.sort((a, b) => {\n    return (Math.max(minStart, a.event.startTimestampIdentifier) - Math.max(minStart, b.event.startTimestampIdentifier)) ||\n           (b.event.endTimestampIdentifier - a.event.endTimestampIdentifier)\n  })\n\n  return visuals\n}\n\nexport interface ColumnGroup {\n  start: number\n  end: number\n  visuals: CalendarEventVisual[]\n}\n\nexport function hasOverlap (s0: number, e0: number, s1: number, e1: number, exclude = true): boolean {\n  return exclude ? !(s0 >= e1 || e0 <= s1) : !(s0 > e1 || e0 < s1)\n}\n\nexport function setColumnCount (groups: ColumnGroup[]) {\n  groups.forEach(group => {\n    group.visuals.forEach(groupVisual => {\n      groupVisual.columnCount = groups.length\n    })\n  })\n}\n\nexport function getRange (event: CalendarEventParsed): [number, number] {\n  return [event.startTimestampIdentifier, event.endTimestampIdentifier]\n}\n\nexport function getDayRange (event: CalendarEventParsed): [number, number] {\n  return [event.startIdentifier, event.endIdentifier]\n}\n\nexport function getNormalizedRange (event: CalendarEventParsed, dayStart: number): [number, number] {\n  return [Math.max(dayStart, event.startTimestampIdentifier), Math.min(dayStart + MILLIS_IN_DAY, event.endTimestampIdentifier)]\n}\n\nexport function getOpenGroup (groups: ColumnGroup[], start: number, end: number, timed: boolean) {\n  for (let i = 0; i < groups.length; i++) {\n    const group = groups[i]\n    let intersected = false\n\n    if (hasOverlap(start, end, group.start, group.end, timed)) {\n      for (let k = 0; k < group.visuals.length; k++) {\n        const groupVisual = group.visuals[k]\n        const [groupStart, groupEnd] = timed ? getRange(groupVisual.event) : getDayRange(groupVisual.event)\n\n        if (hasOverlap(start, end, groupStart, groupEnd, timed)) {\n          intersected = true\n          break\n        }\n      }\n    }\n\n    if (!intersected) {\n      return i\n    }\n  }\n\n  return -1\n}\n\nexport function getOverlapGroupHandler (firstWeekday: number) {\n  const handler = {\n    groups: [] as ColumnGroup[],\n    min: -1,\n    max: -1,\n    reset: () => {\n      handler.groups = []\n      handler.min = handler.max = -1\n    },\n    getVisuals: (day: CalendarTimestamp, dayEvents: CalendarEventParsed[], timed: boolean, reset = false) => {\n      if (day.weekday === firstWeekday || reset) {\n        handler.reset()\n      }\n\n      const dayStart = getTimestampIdentifier(day)\n      const visuals = getVisuals(dayEvents, dayStart)\n\n      visuals.forEach(visual => {\n        const [start, end] = timed ? getRange(visual.event) : getDayRange(visual.event)\n\n        if (handler.groups.length > 0 && !hasOverlap(start, end, handler.min, handler.max, timed)) {\n          setColumnCount(handler.groups)\n          handler.reset()\n        }\n\n        let targetGroup = getOpenGroup(handler.groups, start, end, timed)\n\n        if (targetGroup === -1) {\n          targetGroup = handler.groups.length\n\n          handler.groups.push({ start, end, visuals: [] })\n        }\n\n        const target = handler.groups[targetGroup]\n        target.visuals.push(visual)\n        target.start = Math.min(target.start, start)\n        target.end = Math.max(target.end, end)\n\n        visual.column = targetGroup\n\n        if (handler.min === -1) {\n          handler.min = start\n          handler.max = end\n        } else {\n          handler.min = Math.min(handler.min, start)\n          handler.max = Math.max(handler.max, end)\n        }\n      })\n\n      setColumnCount(handler.groups)\n\n      if (timed) {\n        handler.reset()\n      }\n\n      return visuals\n    },\n  }\n\n  return handler\n}\n","import { CalendarEventOverlapMode, CalendarEventVisual } from 'vuetify/types'\nimport { getOverlapGroupHandler, getVisuals, hasOverlap, getNormalizedRange } from './common'\nimport { getTimestampIdentifier } from '../util/timestamp'\n\ninterface Group {\n  start: number\n  end: number\n  visuals: CalendarEventVisual[]\n}\n\ninterface Node {\n  parent: Node | null\n  sibling: boolean\n  index: number\n  visual: CalendarEventVisual\n  start: number\n  end: number\n  children: Node[]\n}\n\nconst FULL_WIDTH = 100\n\nconst DEFAULT_OFFSET = 5\n\nconst WIDTH_MULTIPLIER = 1.7\n\n/**\n * Variation of column mode where events can be stacked. The priority of this\n * mode is to stack events together taking up the least amount of space while\n * trying to ensure the content of the event is always visible as well as its\n * start and end. A sibling column has intersecting event content and must be\n * placed beside each other. Non-sibling columns are offset by 5% from the\n * previous column. The width is scaled by 1.7 so the events overlap and\n * whitespace is reduced. If there is a hole in columns the event width is\n * scaled up so it intersects with the next column. The columns have equal\n * width in the space they are given. If the event doesn't have any to the\n * right of it that intersect with it's content it's right side is extended\n * to the right side.\n */\n\nexport const stack: CalendarEventOverlapMode = (events, firstWeekday, overlapThreshold) => {\n  const handler = getOverlapGroupHandler(firstWeekday)\n\n  // eslint-disable-next-line max-statements\n  return (day, dayEvents, timed, reset) => {\n    if (!timed) {\n      return handler.getVisuals(day, dayEvents, timed, reset)\n    }\n\n    const dayStart = getTimestampIdentifier(day)\n    const visuals = getVisuals(dayEvents, dayStart)\n    const groups = getGroups(visuals, dayStart)\n\n    for (const group of groups) {\n      const nodes: Node[] = []\n\n      for (const visual of group.visuals) {\n        const child = getNode(visual, dayStart)\n        const index = getNextIndex(child, nodes)\n\n        if (index === false) {\n          const parent = getParent(child, nodes)\n          if (parent) {\n            child.parent = parent\n            child.sibling = hasOverlap(child.start, child.end, parent.start, addTime(parent.start, overlapThreshold))\n            child.index = parent.index + 1\n            parent.children.push(child)\n          }\n        } else {\n          const [parent] = getOverlappingRange(child, nodes, index - 1, index - 1)\n          const children = getOverlappingRange(child, nodes, index + 1, index + nodes.length, true)\n\n          child.children = children\n          child.index = index\n\n          if (parent) {\n            child.parent = parent\n            child.sibling = hasOverlap(child.start, child.end, parent.start, addTime(parent.start, overlapThreshold))\n            parent.children.push(child)\n          }\n\n          for (const grand of children) {\n            if (grand.parent === parent) {\n              grand.parent = child\n            }\n\n            const grandNext = grand.index - child.index <= 1\n            if (grandNext && child.sibling &&\n              hasOverlap(child.start, addTime(child.start, overlapThreshold), grand.start, grand.end)) {\n              grand.sibling = true\n            }\n          }\n        }\n\n        nodes.push(child)\n      }\n\n      calculateBounds(nodes, overlapThreshold)\n    }\n\n    visuals.sort((a, b) => (a.left - b.left) || (a.event.startTimestampIdentifier - b.event.startTimestampIdentifier))\n\n    return visuals\n  }\n}\n\nfunction calculateBounds (nodes: Node[], overlapThreshold: number) {\n  for (const node of nodes) {\n    const { visual, parent } = node\n    const columns = getMaxChildIndex(node) + 1\n    const spaceLeft = parent ? parent.visual.left : 0\n    const spaceWidth = FULL_WIDTH - spaceLeft\n    const offset = Math.min(DEFAULT_OFFSET, FULL_WIDTH / columns)\n    const columnWidthMultiplier = getColumnWidthMultiplier(node, nodes)\n    const columnOffset = spaceWidth / (columns - node.index + 1)\n    const columnWidth = spaceWidth / (columns - node.index + (node.sibling ? 1 : 0)) * columnWidthMultiplier\n\n    if (parent) {\n      visual.left = node.sibling\n        ? spaceLeft + columnOffset\n        : spaceLeft + offset\n    }\n\n    visual.width = hasFullWidth(node, nodes, overlapThreshold)\n      ? FULL_WIDTH - visual.left\n      : Math.min(FULL_WIDTH - visual.left, columnWidth * WIDTH_MULTIPLIER)\n  }\n}\n\nfunction getColumnWidthMultiplier (node: Node, nodes: Node[]): number {\n  if (!node.children.length) {\n    return 1\n  }\n\n  const maxColumn = node.index + nodes.length\n  const minColumn = node.children.reduce((min, c) => Math.min(min, c.index), maxColumn)\n\n  return minColumn - node.index\n}\n\nfunction getOverlappingIndices (node: Node, nodes: Node[]): number[] {\n  const indices: number[] = []\n  for (const other of nodes) {\n    if (hasOverlap(node.start, node.end, other.start, other.end)) {\n      indices.push(other.index)\n    }\n  }\n  return indices\n}\n\nfunction getNextIndex (node: Node, nodes: Node[]): number | false {\n  const indices = getOverlappingIndices(node, nodes)\n  indices.sort()\n\n  for (let i = 0; i < indices.length; i++) {\n    if (i < indices[i]) {\n      return i\n    }\n  }\n  return false\n}\n\nfunction getOverlappingRange (node: Node, nodes: Node[], indexMin: number, indexMax: number, returnFirstColumn = false): Node[] {\n  const overlapping: Node[] = []\n  for (const other of nodes) {\n    if (other.index >= indexMin && other.index <= indexMax && hasOverlap(node.start, node.end, other.start, other.end)) {\n      overlapping.push(other)\n    }\n  }\n  if (returnFirstColumn && overlapping.length > 0) {\n    const first = overlapping.reduce((min, n) => Math.min(min, n.index), overlapping[0].index)\n    return overlapping.filter(n => n.index === first)\n  }\n  return overlapping\n}\n\nfunction getParent (node: Node, nodes: Node[]): Node | null {\n  let parent: Node | null = null\n  for (const other of nodes) {\n    if (hasOverlap(node.start, node.end, other.start, other.end) && (parent === null || other.index > parent.index)) {\n      parent = other\n    }\n  }\n  return parent\n}\n\nfunction hasFullWidth (node: Node, nodes: Node[], overlapThreshold: number): boolean {\n  for (const other of nodes) {\n    if (other !== node &&\n      other.index > node.index &&\n      hasOverlap(node.start, addTime(node.start, overlapThreshold), other.start, other.end)) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction getGroups (visuals: CalendarEventVisual[], dayStart: number): Group[] {\n  const groups: Group[] = []\n\n  for (const visual of visuals) {\n    const [start, end] = getNormalizedRange(visual.event, dayStart)\n    let added = false\n\n    for (const group of groups) {\n      if (hasOverlap(start, end, group.start, group.end)) {\n        group.visuals.push(visual)\n        group.end = Math.max(group.end, end)\n        added = true\n        break\n      }\n    }\n\n    if (!added) {\n      groups.push({ start, end, visuals: [visual] })\n    }\n  }\n\n  return groups\n}\n\nfunction getNode (visual: CalendarEventVisual, dayStart: number): Node {\n  const [start, end] = getNormalizedRange(visual.event, dayStart)\n\n  return {\n    parent: null,\n    sibling: true,\n    index: 0,\n    visual,\n    start,\n    end,\n    children: [],\n  }\n}\n\nfunction getMaxChildIndex (node: Node): number {\n  let max = node.index\n  for (const child of node.children) {\n    const childMax = getMaxChildIndex(child)\n    if (childMax > max) {\n      max = childMax\n    }\n  }\n  return max\n}\n\nfunction addTime (identifier: number, minutes: number): number {\n  const removeMinutes = identifier % 100\n  const totalMinutes = removeMinutes + minutes\n  const addHours = Math.floor(totalMinutes / 60)\n  const addMinutes = totalMinutes % 60\n\n  return identifier - removeMinutes + addHours * 100 + addMinutes\n}\n","import { CalendarEventOverlapMode } from 'vuetify/types'\nimport { getOverlapGroupHandler } from './common'\n\nconst FULL_WIDTH = 100\n\nexport const column: CalendarEventOverlapMode = (events, firstWeekday, overlapThreshold) => {\n  const handler = getOverlapGroupHandler(firstWeekday)\n\n  return (day, dayEvents, timed, reset) => {\n    const visuals = handler.getVisuals(day, dayEvents, timed, reset)\n\n    if (timed) {\n      visuals.forEach(visual => {\n        visual.left = visual.column * FULL_WIDTH / visual.columnCount\n        visual.width = FULL_WIDTH / visual.columnCount\n      })\n    }\n\n    return visuals\n  }\n}\n","import { CalendarEventOverlapMode } from 'vuetify/types'\nimport { stack } from './stack'\nimport { column } from './column'\n\nexport const CalendarEventOverlapModes: Record<string, CalendarEventOverlapMode> = {\n  stack,\n  column,\n}\n","\nimport { validateTimestamp, parseDate, DAYS_IN_WEEK, validateTime } from './timestamp'\nimport { PropType } from 'vue'\nimport { CalendarEvent, CalendarFormatter, CalendarTimestamp, CalendarEventOverlapMode, CalendarEventNameFunction, CalendarEventColorFunction, CalendarEventCategoryFunction, CalendarEventTimedFunction } from 'vuetify/types'\nimport { CalendarEventOverlapModes } from '../modes'\nimport { PropValidator } from 'vue/types/options'\n\nexport default {\n  base: {\n    start: {\n      type: [String, Number, Date],\n      validate: validateTimestamp,\n      default: () => parseDate(new Date()).date,\n    },\n    end: {\n      type: [String, Number, Date],\n      validate: validateTimestamp,\n    },\n    weekdays: {\n      type: [Array, String] as PropType<number[] | string>,\n      default: () => [0, 1, 2, 3, 4, 5, 6],\n      validate: validateWeekdays,\n    },\n    hideHeader: {\n      type: Boolean,\n    },\n    shortWeekdays: {\n      type: Boolean,\n      default: true,\n    },\n    weekdayFormat: {\n      type: Function as PropType<CalendarFormatter>,\n      default: null,\n    },\n    dayFormat: {\n      type: Function as PropType<CalendarFormatter>,\n      default: null,\n    },\n  },\n  intervals: {\n    maxDays: {\n      type: Number,\n      default: 7,\n    },\n    shortIntervals: {\n      type: Boolean,\n      default: true,\n    },\n    intervalHeight: {\n      type: [Number, String],\n      default: 48,\n      validate: validateNumber,\n    },\n    intervalWidth: {\n      type: [Number, String],\n      default: 60,\n      validate: validateNumber,\n    },\n    intervalMinutes: {\n      type: [Number, String],\n      default: 60,\n      validate: validateNumber,\n    },\n    firstInterval: {\n      type: [Number, String],\n      default: 0,\n      validate: validateNumber,\n    },\n    firstTime: {\n      type: [Number, String, Object],\n      validate: validateTime,\n    },\n    intervalCount: {\n      type: [Number, String],\n      default: 24,\n      validate: validateNumber,\n    },\n    intervalFormat: {\n      type: Function as PropType<CalendarFormatter>,\n      default: null,\n    },\n    intervalStyle: {\n      type: Function as PropType<(interval: CalendarTimestamp) => object>,\n      default: null,\n    },\n    showIntervalLabel: {\n      type: Function as PropType<(interval: CalendarTimestamp) => boolean>,\n      default: null,\n    },\n  },\n  weeks: {\n    localeFirstDayOfYear: {\n      type: [String, Number],\n      default: 0,\n    },\n    minWeeks: {\n      validate: validateNumber,\n      default: 1,\n    },\n    shortMonths: {\n      type: Boolean,\n      default: true,\n    },\n    showMonthOnFirst: {\n      type: Boolean,\n      default: true,\n    },\n    showWeek: Boolean,\n    monthFormat: {\n      type: Function as PropType<CalendarFormatter>,\n      default: null,\n    },\n  },\n  calendar: {\n    type: {\n      type: String,\n      default: 'month',\n    },\n    value: {\n      type: [String, Number, Date] as PropType<string | number | Date>,\n      validate: validateTimestamp,\n    },\n  },\n  category: {\n    categories: {\n      type: [Array, String],\n      default: '',\n    },\n    categoryHideDynamic: {\n      type: Boolean,\n    },\n    categoryShowAll: {\n      type: Boolean,\n    },\n    categoryForInvalid: {\n      type: String,\n      default: '',\n    },\n    categoryDays: {\n      type: [Number, String],\n      default: 1,\n      validate: (x: any) => isFinite(parseInt(x)) && parseInt(x) > 0,\n    },\n  },\n  events: {\n    events: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<CalendarEvent[]>,\n    eventStart: {\n      type: String,\n      default: 'start',\n    },\n    eventEnd: {\n      type: String,\n      default: 'end',\n    },\n    eventTimed: {\n      type: [String, Function] as PropType<string | CalendarEventTimedFunction>,\n      default: 'timed',\n    },\n    eventCategory: {\n      type: [String, Function] as PropType<string | CalendarEventCategoryFunction>,\n      default: 'category',\n    },\n    eventHeight: {\n      type: Number,\n      default: 20,\n    },\n    eventColor: {\n      type: [String, Function] as PropType<string | CalendarEventColorFunction>,\n      default: 'primary',\n    },\n    eventTextColor: {\n      type: [String, Function] as PropType<string | CalendarEventColorFunction>,\n      default: 'white',\n    },\n    eventName: {\n      type: [String, Function] as PropType<string | CalendarEventNameFunction>,\n      default: 'name',\n    },\n    eventOverlapThreshold: {\n      type: [String, Number],\n      default: 60,\n    },\n    eventOverlapMode: {\n      type: [String, Function],\n      default: 'stack',\n      validate: (mode: any) => mode in CalendarEventOverlapModes || typeof mode === 'function',\n    } as PropValidator<'stack' | 'column' | CalendarEventOverlapMode>,\n    eventMore: {\n      type: Boolean,\n      default: true,\n    },\n    eventMoreText: {\n      type: String,\n      default: '$vuetify.calendar.moreEvents',\n    },\n    eventRipple: {\n      type: [Boolean, Object],\n      default: null,\n    },\n    eventMarginBottom: {\n      type: Number,\n      default: 1,\n    },\n  },\n}\n\nexport function validateNumber (input: any): boolean {\n  return isFinite(parseInt(input))\n}\n\nexport function validateWeekdays (input: string | (number | string)[]): boolean {\n  if (typeof input === 'string') {\n    input = input.split(',')\n  }\n\n  if (Array.isArray(input)) {\n    const ints = input.map(x => parseInt(x))\n\n    if (ints.length > DAYS_IN_WEEK || ints.length === 0) {\n      return false\n    }\n\n    const visited: Record<number, boolean> = {}\n    let wrapped = false\n\n    for (let i = 0; i < ints.length; i++) {\n      const x = ints[i]\n\n      if (!isFinite(x) || x < 0 || x >= DAYS_IN_WEEK) {\n        return false\n      }\n\n      if (i > 0) {\n        const d = x - ints[i - 1]\n        if (d < 0) {\n          if (wrapped) {\n            return false\n          }\n          wrapped = true\n        } else if (d === 0) {\n          return false\n        }\n      }\n\n      if (visited[x]) {\n        return false\n      }\n      visited[x] = true\n    }\n\n    return true\n  }\n\n  return false\n}\n","\n// Mixins\nimport mixins from '../../../util/mixins'\nimport Colorable from '../../../mixins/colorable'\nimport Localable from '../../../mixins/localable'\nimport Mouse from './mouse'\nimport Themeable from '../../../mixins/themeable'\nimport Times from './times'\n\n// Directives\nimport Resize from '../../../directives/resize'\n\n// Util\nimport props from '../util/props'\nimport {\n  parseTimestamp,\n  getWeekdaySkips,\n  createDayList,\n  createNativeLocaleFormatter,\n  getStartOfWeek,\n  getEndOfWeek,\n  getTimestampIdentifier,\n} from '../util/timestamp'\nimport { CalendarTimestamp, CalendarFormatter } from 'vuetify/types'\n\nexport default mixins(\n  Colorable,\n  Localable,\n  Mouse,\n  Themeable,\n  Times\n/* @vue/component */\n).extend({\n  name: 'calendar-base',\n\n  directives: {\n    Resize,\n  },\n\n  props: props.base,\n\n  computed: {\n    parsedWeekdays (): number[] {\n      return Array.isArray(this.weekdays)\n        ? this.weekdays\n        : (this.weekdays || '').split(',').map(x => parseInt(x, 10))\n    },\n    weekdaySkips (): number[] {\n      return getWeekdaySkips(this.parsedWeekdays)\n    },\n    weekdaySkipsReverse (): number [] {\n      const reversed = this.weekdaySkips.slice()\n      reversed.reverse()\n      return reversed\n    },\n    parsedStart (): CalendarTimestamp {\n      return parseTimestamp(this.start, true)\n    },\n    parsedEnd (): CalendarTimestamp {\n      const start = this.parsedStart\n      const end: CalendarTimestamp = this.end ? parseTimestamp(this.end) || start : start\n\n      return getTimestampIdentifier(end) < getTimestampIdentifier(start) ? start : end\n    },\n    days (): CalendarTimestamp[] {\n      return createDayList(\n        this.parsedStart,\n        this.parsedEnd,\n        this.times.today,\n        this.weekdaySkips\n      )\n    },\n    dayFormatter (): CalendarFormatter {\n      if (this.dayFormat) {\n        return this.dayFormat as CalendarFormatter\n      }\n\n      const options = { timeZone: 'UTC', day: 'numeric' }\n\n      return createNativeLocaleFormatter(\n        this.currentLocale,\n        (_tms, _short) => options\n      )\n    },\n    weekdayFormatter (): CalendarFormatter {\n      if (this.weekdayFormat) {\n        return this.weekdayFormat as CalendarFormatter\n      }\n\n      const longOptions = { timeZone: 'UTC', weekday: 'long' }\n      const shortOptions = { timeZone: 'UTC', weekday: 'short' }\n\n      return createNativeLocaleFormatter(\n        this.currentLocale,\n        (_tms, short) => short ? shortOptions : longOptions\n      )\n    },\n  },\n\n  methods: {\n    getRelativeClasses (timestamp: CalendarTimestamp, outside = false): object {\n      return {\n        'v-present': timestamp.present,\n        'v-past': timestamp.past,\n        'v-future': timestamp.future,\n        'v-outside': outside,\n      }\n    },\n    getStartOfWeek (timestamp: CalendarTimestamp): CalendarTimestamp {\n      return getStartOfWeek(timestamp, this.parsedWeekdays, this.times.today)\n    },\n    getEndOfWeek (timestamp: CalendarTimestamp): CalendarTimestamp {\n      return getEndOfWeek(timestamp, this.parsedWeekdays, this.times.today)\n    },\n    getFormatter (options: object): CalendarFormatter {\n      return createNativeLocaleFormatter(\n        this.locale,\n        (_tms, _short) => options\n      )\n    },\n  },\n})\n","import {\n  parseTimestamp,\n  getDayIdentifier,\n  getTimestampIdentifier,\n  OFFSET_TIME,\n  isTimedless,\n  updateHasTime,\n} from './timestamp'\nimport { CalendarTimestamp, CalendarEvent, CalendarEventParsed } from 'vuetify/types'\n\nexport function parseEvent (\n  input: CalendarEvent,\n  index: number,\n  startProperty: string,\n  endProperty: string,\n  timed = false,\n  category: string | false = false,\n): CalendarEventParsed {\n  const startInput = input[startProperty]\n  const endInput = input[endProperty]\n  const startParsed: CalendarTimestamp = parseTimestamp(startInput, true)\n  const endParsed: CalendarTimestamp = (endInput ? parseTimestamp(endInput, true) : startParsed)\n  const start: CalendarTimestamp = isTimedless(startInput)\n    ? updateHasTime(startParsed, timed)\n    : startParsed\n  const end: CalendarTimestamp = isTimedless(endInput)\n    ? updateHasTime(endParsed, timed)\n    : endParsed\n  const startIdentifier: number = getDayIdentifier(start)\n  const startTimestampIdentifier: number = getTimestampIdentifier(start)\n  const endIdentifier: number = getDayIdentifier(end)\n  const endOffset: number = start.hasTime ? 0 : 2359\n  const endTimestampIdentifier: number = getTimestampIdentifier(end) + endOffset\n  const allDay: boolean = !start.hasTime\n\n  return { input, start, startIdentifier, startTimestampIdentifier, end, endIdentifier, endTimestampIdentifier, allDay, index, category }\n}\n\nexport function isEventOn (event: CalendarEventParsed, dayIdentifier: number): boolean {\n  return dayIdentifier >= event.startIdentifier &&\n    dayIdentifier <= event.endIdentifier &&\n    dayIdentifier * OFFSET_TIME !== event.endTimestampIdentifier\n}\n\nexport function isEventStart (event: CalendarEventParsed, day: CalendarTimestamp, dayIdentifier: number, firstWeekday: number): boolean {\n  return dayIdentifier === event.startIdentifier || (firstWeekday === day.weekday && isEventOn(event, dayIdentifier))\n}\n\nexport function isEventOverlapping (event: CalendarEventParsed, startIdentifier: number, endIdentifier: number): boolean {\n  return startIdentifier <= event.endIdentifier && endIdentifier >= event.startIdentifier\n}\n","// Styles\nimport './calendar-with-events.sass'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\n// Directives\nimport ripple from '../../../directives/ripple'\n\n// Mixins\nimport CalendarBase from './calendar-base'\n\n// Helpers\nimport { escapeHTML } from '../../../util/helpers'\n\n// Util\nimport props from '../util/props'\nimport {\n  CalendarEventOverlapModes,\n} from '../modes'\nimport {\n  getDayIdentifier, diffMinutes,\n} from '../util/timestamp'\nimport {\n  parseEvent,\n  isEventStart,\n  isEventOn,\n  isEventOverlapping,\n} from '../util/events'\nimport {\n  CalendarTimestamp,\n  CalendarEventParsed,\n  CalendarEventVisual,\n  CalendarEventColorFunction,\n  CalendarEventNameFunction,\n  CalendarEventTimedFunction,\n  CalendarDaySlotScope,\n  CalendarDayBodySlotScope,\n  CalendarEventOverlapMode,\n  CalendarEvent,\n  CalendarEventCategoryFunction,\n} from 'vuetify/types'\n\n// Types\ntype VEventGetter<D> = (day: D) => CalendarEventParsed[]\n\ntype VEventVisualToNode<D> = (visual: CalendarEventVisual, day: D) => VNode | false\n\ntype VEventsToNodes = <D extends CalendarDaySlotScope>(\n  day: D,\n  getter: VEventGetter<D>,\n  mapper: VEventVisualToNode<D>,\n  timed: boolean) => VNode[] | undefined\n\ntype VDailyEventsMap = {\n  [date: string]: {\n    parent: HTMLElement\n    more: HTMLElement | null\n    events: HTMLElement[]\n  }\n}\n\ninterface VEventScopeInput {\n  eventParsed: CalendarEventParsed\n  day: CalendarDaySlotScope\n  start: boolean\n  end: boolean\n  timed: boolean\n}\n\nconst WIDTH_FULL = 100\nconst WIDTH_START = 95\nconst MINUTES_IN_DAY = 1440\n\n/* @vue/component */\nexport default CalendarBase.extend({\n  name: 'calendar-with-events',\n\n  directives: {\n    ripple,\n  },\n\n  props: props.events,\n\n  computed: {\n    noEvents (): boolean {\n      return this.events.length === 0\n    },\n    parsedEvents (): CalendarEventParsed[] {\n      return this.events.map(this.parseEvent)\n    },\n    parsedEventOverlapThreshold (): number {\n      return parseInt(this.eventOverlapThreshold)\n    },\n    eventColorFunction (): CalendarEventColorFunction {\n      return typeof this.eventColor === 'function'\n        ? this.eventColor\n        : () => (this.eventColor as string)\n    },\n    eventTimedFunction (): CalendarEventTimedFunction {\n      return typeof this.eventTimed === 'function'\n        ? this.eventTimed\n        : event => !!event[this.eventTimed as string]\n    },\n    eventCategoryFunction (): CalendarEventCategoryFunction {\n      return typeof this.eventCategory === 'function'\n        ? this.eventCategory\n        : event => event[this.eventCategory as string]\n    },\n    eventTextColorFunction (): CalendarEventColorFunction {\n      return typeof this.eventTextColor === 'function'\n        ? this.eventTextColor\n        : () => this.eventTextColor as string\n    },\n    eventNameFunction (): CalendarEventNameFunction {\n      return typeof this.eventName === 'function'\n        ? this.eventName\n        : (event, timedEvent) => escapeHTML(event.input[this.eventName as string] as string)\n    },\n    eventModeFunction (): CalendarEventOverlapMode {\n      return typeof this.eventOverlapMode === 'function'\n        ? this.eventOverlapMode\n        : CalendarEventOverlapModes[this.eventOverlapMode]\n    },\n    eventWeekdays (): number[] {\n      return this.parsedWeekdays\n    },\n    categoryMode (): boolean {\n      return false\n    },\n  },\n\n  methods: {\n    parseEvent (input: CalendarEvent, index = 0): CalendarEventParsed {\n      return parseEvent(\n        input,\n        index,\n        this.eventStart,\n        this.eventEnd,\n        this.eventTimedFunction(input),\n        this.categoryMode ? this.eventCategoryFunction(input) : false,\n      )\n    },\n    formatTime (withTime: CalendarTimestamp, ampm: boolean): string {\n      const formatter = this.getFormatter({\n        timeZone: 'UTC',\n        hour: 'numeric',\n        minute: withTime.minute > 0 ? 'numeric' : undefined,\n      })\n\n      return formatter(withTime, true)\n    },\n    updateEventVisibility () {\n      if (this.noEvents || !this.eventMore) {\n        return\n      }\n\n      const eventHeight = this.eventHeight\n      const eventsMap = this.getEventsMap()\n\n      for (const date in eventsMap) {\n        const { parent, events, more } = eventsMap[date]\n        if (!more) {\n          break\n        }\n\n        const parentBounds = parent.getBoundingClientRect()\n        const last = events.length - 1\n        let hide = false\n        let hidden = 0\n\n        for (let i = 0; i <= last; i++) {\n          if (!hide) {\n            const eventBounds = events[i].getBoundingClientRect()\n            hide = i === last\n              ? (eventBounds.bottom > parentBounds.bottom)\n              : (eventBounds.bottom + eventHeight > parentBounds.bottom)\n          }\n          if (hide) {\n            events[i].style.display = 'none'\n            hidden++\n          }\n        }\n\n        if (hide) {\n          more.style.display = ''\n          more.innerHTML = this.$vuetify.lang.t(this.eventMoreText, hidden)\n        } else {\n          more.style.display = 'none'\n        }\n      }\n    },\n    getEventsMap (): VDailyEventsMap {\n      const eventsMap: VDailyEventsMap = {}\n      const elements = this.$refs.events as HTMLElement[]\n\n      if (!elements || !elements.forEach) {\n        return eventsMap\n      }\n\n      elements.forEach(el => {\n        const date = el.getAttribute('data-date')\n        if (el.parentElement && date) {\n          if (!(date in eventsMap)) {\n            eventsMap[date] = {\n              parent: el.parentElement,\n              more: null,\n              events: [],\n            }\n          }\n          if (el.getAttribute('data-more')) {\n            eventsMap[date].more = el\n          } else {\n            eventsMap[date].events.push(el)\n            el.style.display = ''\n          }\n        }\n      })\n\n      return eventsMap\n    },\n    genDayEvent ({ event }: CalendarEventVisual, day: CalendarDaySlotScope): VNode {\n      const eventHeight = this.eventHeight\n      const eventMarginBottom = this.eventMarginBottom\n      const dayIdentifier = getDayIdentifier(day)\n      const week = day.week\n      const start = dayIdentifier === event.startIdentifier\n      let end = dayIdentifier === event.endIdentifier\n      let width = WIDTH_START\n\n      if (!this.categoryMode) {\n        for (let i = day.index + 1; i < week.length; i++) {\n          const weekdayIdentifier = getDayIdentifier(week[i])\n          if (event.endIdentifier >= weekdayIdentifier) {\n            width += WIDTH_FULL\n            end = end || weekdayIdentifier === event.endIdentifier\n          } else {\n            end = true\n            break\n          }\n        }\n      }\n      const scope = { eventParsed: event, day, start, end, timed: false }\n\n      return this.genEvent(event, scope, false, {\n        staticClass: 'v-event',\n        class: {\n          'v-event-start': start,\n          'v-event-end': end,\n        },\n        style: {\n          height: `${eventHeight}px`,\n          width: `${width}%`,\n          'margin-bottom': `${eventMarginBottom}px`,\n        },\n        attrs: {\n          'data-date': day.date,\n        },\n        key: event.index,\n        ref: 'events',\n        refInFor: true,\n      })\n    },\n    genTimedEvent ({ event, left, width }: CalendarEventVisual, day: CalendarDayBodySlotScope): VNode | false {\n      if (day.timeDelta(event.end) <= 0 || day.timeDelta(event.start) >= 1) {\n        return false\n      }\n\n      const dayIdentifier = getDayIdentifier(day)\n      const start = event.startIdentifier >= dayIdentifier\n      const end = event.endIdentifier > dayIdentifier\n      const top = start ? day.timeToY(event.start) : 0\n      const bottom = end ? day.timeToY(MINUTES_IN_DAY) : day.timeToY(event.end)\n      const height = Math.max(this.eventHeight, bottom - top)\n      const scope = { eventParsed: event, day, start, end, timed: true }\n\n      return this.genEvent(event, scope, true, {\n        staticClass: 'v-event-timed',\n        style: {\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left}%`,\n          width: `${width}%`,\n        },\n      })\n    },\n    genEvent (event: CalendarEventParsed, scopeInput: VEventScopeInput, timedEvent: boolean, data: VNodeData): VNode {\n      const slot = this.$scopedSlots.event\n      const text = this.eventTextColorFunction(event.input)\n      const background = this.eventColorFunction(event.input)\n      const overlapsNoon = event.start.hour < 12 && event.end.hour >= 12\n      const singline = diffMinutes(event.start, event.end) <= this.parsedEventOverlapThreshold\n      const formatTime = this.formatTime\n      const timeSummary = () => formatTime(event.start, overlapsNoon) + ' - ' + formatTime(event.end, true)\n      const eventSummary = () => {\n        const name = this.eventNameFunction(event, timedEvent)\n\n        if (event.start.hasTime) {\n          if (timedEvent) {\n            const time = timeSummary()\n            const delimiter = singline ? ', ' : '<br>'\n\n            return `<strong>${name}</strong>${delimiter}${time}`\n          } else {\n            const time = formatTime(event.start, true)\n\n            return `<strong>${time}</strong> ${name}`\n          }\n        }\n\n        return name\n      }\n\n      const scope = {\n        ...scopeInput,\n        event: event.input,\n        outside: scopeInput.day.outside,\n        singline,\n        overlapsNoon,\n        formatTime,\n        timeSummary,\n        eventSummary,\n      }\n\n      return this.$createElement('div',\n        this.setTextColor(text,\n          this.setBackgroundColor(background, {\n            on: this.getDefaultMouseEventHandlers(':event', nativeEvent => ({ ...scope, nativeEvent })),\n            directives: [{\n              name: 'ripple',\n              value: this.eventRipple ?? true,\n            }],\n            ...data,\n          })\n        ), slot\n          ? slot(scope)\n          : [this.genName(eventSummary)]\n      )\n    },\n    genName (eventSummary: () => string): VNode {\n      return this.$createElement('div', {\n        staticClass: 'pl-1',\n        domProps: {\n          innerHTML: eventSummary(),\n        },\n      })\n    },\n    genPlaceholder (day: CalendarTimestamp): VNode {\n      const height = this.eventHeight + this.eventMarginBottom\n\n      return this.$createElement('div', {\n        style: {\n          height: `${height}px`,\n        },\n        attrs: {\n          'data-date': day.date,\n        },\n        ref: 'events',\n        refInFor: true,\n      })\n    },\n    genMore (day: CalendarDaySlotScope): VNode {\n      const eventHeight = this.eventHeight\n      const eventMarginBottom = this.eventMarginBottom\n\n      return this.$createElement('div', {\n        staticClass: 'v-event-more pl-1',\n        class: {\n          'v-outside': day.outside,\n        },\n        attrs: {\n          'data-date': day.date,\n          'data-more': 1,\n        },\n        directives: [{\n          name: 'ripple',\n          value: this.eventRipple ?? true,\n        }],\n        on: {\n          click: () => this.$emit('click:more', day),\n        },\n        style: {\n          display: 'none',\n          height: `${eventHeight}px`,\n          'margin-bottom': `${eventMarginBottom}px`,\n        },\n        ref: 'events',\n        refInFor: true,\n      })\n    },\n    getVisibleEvents (): CalendarEventParsed[] {\n      const start = getDayIdentifier(this.days[0])\n      const end = getDayIdentifier(this.days[this.days.length - 1])\n\n      return this.parsedEvents.filter(\n        event => isEventOverlapping(event, start, end)\n      )\n    },\n    isEventForCategory (event: CalendarEventParsed, category: string | undefined | null): boolean {\n      return !this.categoryMode ||\n        category === event.category ||\n        (typeof event.category !== 'string' && category === null)\n    },\n    getEventsForDay (day: CalendarDaySlotScope): CalendarEventParsed[] {\n      const identifier = getDayIdentifier(day)\n      const firstWeekday = this.eventWeekdays[0]\n\n      return this.parsedEvents.filter(\n        event => isEventStart(event, day, identifier, firstWeekday)\n      )\n    },\n    getEventsForDayAll (day: CalendarDaySlotScope): CalendarEventParsed[] {\n      const identifier = getDayIdentifier(day)\n      const firstWeekday = this.eventWeekdays[0]\n\n      return this.parsedEvents.filter(\n        event => event.allDay &&\n          (this.categoryMode ? isEventOn(event, identifier) : isEventStart(event, day, identifier, firstWeekday)) &&\n          this.isEventForCategory(event, day.category)\n      )\n    },\n    getEventsForDayTimed (day: CalendarDaySlotScope): CalendarEventParsed[] {\n      const identifier = getDayIdentifier(day)\n\n      return this.parsedEvents.filter(\n        event => !event.allDay &&\n          isEventOn(event, identifier) &&\n          this.isEventForCategory(event, day.category)\n      )\n    },\n    getScopedSlots () {\n      if (this.noEvents) {\n        return { ...this.$scopedSlots }\n      }\n\n      const mode = this.eventModeFunction(\n        this.parsedEvents,\n        this.eventWeekdays[0],\n        this.parsedEventOverlapThreshold\n      )\n\n      const isNode = (input: VNode | false): input is VNode => !!input\n      const getSlotChildren: VEventsToNodes = (day, getter, mapper, timed) => {\n        const events = getter(day)\n        const visuals = mode(day, events, timed, this.categoryMode)\n\n        if (timed) {\n          return visuals.map(visual => mapper(visual, day)).filter(isNode)\n        }\n\n        const children: VNode[] = []\n\n        visuals.forEach((visual, index) => {\n          while (children.length < visual.column) {\n            children.push(this.genPlaceholder(day))\n          }\n\n          const mapped = mapper(visual, day)\n          if (mapped) {\n            children.push(mapped)\n          }\n        })\n\n        return children\n      }\n\n      const slots = this.$scopedSlots\n      const slotDay = slots.day\n      const slotDayHeader = slots['day-header']\n      const slotDayBody = slots['day-body']\n\n      return {\n        ...slots,\n        day: (day: CalendarDaySlotScope) => {\n          let children = getSlotChildren(day, this.getEventsForDay, this.genDayEvent, false)\n          if (children && children.length > 0 && this.eventMore) {\n            children.push(this.genMore(day))\n          }\n          if (slotDay) {\n            const slot = slotDay(day)\n            if (slot) {\n              children = children ? children.concat(slot) : slot\n            }\n          }\n          return children\n        },\n        'day-header': (day: CalendarDaySlotScope) => {\n          let children = getSlotChildren(day, this.getEventsForDayAll, this.genDayEvent, false)\n\n          if (slotDayHeader) {\n            const slot = slotDayHeader(day)\n            if (slot) {\n              children = children ? children.concat(slot) : slot\n            }\n          }\n          return children\n        },\n        'day-body': (day: CalendarDayBodySlotScope) => {\n          const events = getSlotChildren(day, this.getEventsForDayTimed, this.genTimedEvent, true)\n          let children: VNode[] = [\n            this.$createElement('div', {\n              staticClass: 'v-event-timed-container',\n            }, events),\n          ]\n\n          if (slotDayBody) {\n            const slot = slotDayBody(day)\n            if (slot) {\n              children = children.concat(slot)\n            }\n          }\n          return children\n        },\n      }\n    },\n  },\n})\n","// Styles\nimport './VCalendarWeekly.sass'\n\n// Types\nimport { VNode } from 'vue'\n\n// Components\nimport VBtn from '../VBtn'\n\n// Mixins\nimport CalendarBase from './mixins/calendar-base'\n\n// Util\nimport { getSlot } from '../../util/helpers'\nimport { weekNumber } from '../../util/dateTimeUtils'\nimport props from './util/props'\nimport {\n  createDayList,\n  getDayIdentifier,\n  createNativeLocaleFormatter,\n} from './util/timestamp'\nimport { CalendarTimestamp, CalendarFormatter } from 'vuetify/types'\n\n/* @vue/component */\nexport default CalendarBase.extend({\n  name: 'v-calendar-weekly',\n\n  props: props.weeks,\n\n  computed: {\n    staticClass (): string {\n      return 'v-calendar-weekly'\n    },\n    classes (): object {\n      return this.themeClasses\n    },\n    parsedMinWeeks (): number {\n      return parseInt(this.minWeeks)\n    },\n    days (): CalendarTimestamp[] {\n      const minDays = this.parsedMinWeeks * this.parsedWeekdays.length\n      const start = this.getStartOfWeek(this.parsedStart)\n      const end = this.getEndOfWeek(this.parsedEnd)\n\n      return createDayList(\n        start,\n        end,\n        this.times.today,\n        this.weekdaySkips,\n        Number.MAX_SAFE_INTEGER,\n        minDays\n      )\n    },\n    todayWeek (): CalendarTimestamp[] {\n      const today = this.times.today\n      const start = this.getStartOfWeek(today)\n      const end = this.getEndOfWeek(today)\n\n      return createDayList(\n        start,\n        end,\n        today,\n        this.weekdaySkips,\n        this.parsedWeekdays.length,\n        this.parsedWeekdays.length\n      )\n    },\n    monthFormatter (): CalendarFormatter {\n      if (this.monthFormat) {\n        return this.monthFormat as CalendarFormatter\n      }\n\n      const longOptions = { timeZone: 'UTC', month: 'long' }\n      const shortOptions = { timeZone: 'UTC', month: 'short' }\n\n      return createNativeLocaleFormatter(\n        this.currentLocale,\n        (_tms, short) => short ? shortOptions : longOptions\n      )\n    },\n  },\n\n  methods: {\n    isOutside (day: CalendarTimestamp): boolean {\n      const dayIdentifier = getDayIdentifier(day)\n\n      return dayIdentifier < getDayIdentifier(this.parsedStart) ||\n             dayIdentifier > getDayIdentifier(this.parsedEnd)\n    },\n    genHead (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-weekly__head',\n      }, this.genHeadDays())\n    },\n    genHeadDays (): VNode[] {\n      const header = this.todayWeek.map(this.genHeadDay)\n\n      if (this.showWeek) {\n        header.unshift(this.$createElement('div', {\n          staticClass: 'v-calendar-weekly__head-weeknumber',\n        }))\n      }\n\n      return header\n    },\n    genHeadDay (day: CalendarTimestamp, index: number): VNode {\n      const outside = this.isOutside(this.days[index])\n      const color = day.present ? this.color : undefined\n\n      return this.$createElement('div', this.setTextColor(color, {\n        key: day.date,\n        staticClass: 'v-calendar-weekly__head-weekday',\n        class: this.getRelativeClasses(day, outside),\n      }), this.weekdayFormatter(day, this.shortWeekdays))\n    },\n    genWeeks (): VNode[] {\n      const days = this.days\n      const weekDays = this.parsedWeekdays.length\n      const weeks: VNode[] = []\n\n      for (let i = 0; i < days.length; i += weekDays) {\n        weeks.push(this.genWeek(days.slice(i, i + weekDays), this.getWeekNumber(days[i])))\n      }\n\n      return weeks\n    },\n    genWeek (week: CalendarTimestamp[], weekNumber: number): VNode {\n      const weekNodes = week.map((day, index) => this.genDay(day, index, week))\n\n      if (this.showWeek) {\n        weekNodes.unshift(this.genWeekNumber(weekNumber))\n      }\n\n      return this.$createElement('div', {\n        key: week[0].date,\n        staticClass: 'v-calendar-weekly__week',\n      }, weekNodes)\n    },\n    getWeekNumber (determineDay: CalendarTimestamp) {\n      return weekNumber(\n        determineDay.year,\n        determineDay.month - 1,\n        determineDay.day,\n        this.parsedWeekdays[0],\n        parseInt(this.localeFirstDayOfYear)\n      )\n    },\n    genWeekNumber (weekNumber: number) {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-weekly__weeknumber',\n      }, [\n        this.$createElement('small', String(weekNumber)),\n      ])\n    },\n    genDay (day: CalendarTimestamp, index: number, week: CalendarTimestamp[]): VNode {\n      const outside = this.isOutside(day)\n\n      return this.$createElement('div', {\n        key: day.date,\n        staticClass: 'v-calendar-weekly__day',\n        class: this.getRelativeClasses(day, outside),\n        on: this.getDefaultMouseEventHandlers(':day', _e => day),\n      }, [\n        this.genDayLabel(day),\n        ...(getSlot(this, 'day', () => ({ outside, index, week, ...day })) || []),\n      ])\n    },\n    genDayLabel (day: CalendarTimestamp): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-weekly__day-label',\n      }, getSlot(this, 'day-label', day) || [this.genDayLabelButton(day)])\n    },\n    genDayLabelButton (day: CalendarTimestamp): VNode {\n      const color = day.present ? this.color : 'transparent'\n      const hasMonth = day.day === 1 && this.showMonthOnFirst\n\n      return this.$createElement(VBtn, {\n        props: {\n          color,\n          fab: true,\n          depressed: true,\n          small: true,\n        },\n        on: this.getMouseEventHandlers({\n          'click:date': { event: 'click', stop: true },\n          'contextmenu:date': { event: 'contextmenu', stop: true, prevent: true, result: false },\n        }, _e => day),\n      }, hasMonth\n        ? this.monthFormatter(day, this.shortMonths) + ' ' + this.dayFormatter(day, false)\n        : this.dayFormatter(day, false)\n      )\n    },\n    genDayMonth (day: CalendarTimestamp): VNode | string {\n      const color = day.present ? this.color : undefined\n\n      return this.$createElement('div', this.setTextColor(color, {\n        staticClass: 'v-calendar-weekly__day-month',\n      }), getSlot(this, 'day-month', day) || this.monthFormatter(day, this.shortMonths))\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: this.staticClass,\n      class: this.classes,\n      on: {\n        dragstart: (e: MouseEvent) => {\n          e.preventDefault()\n        },\n      },\n    }, [\n      !this.hideHeader ? this.genHead() : '',\n      ...this.genWeeks(),\n    ])\n  },\n})\n","// Styles\nimport './VCalendarWeekly.sass'\n\n// Mixins\nimport VCalendarWeekly from './VCalendarWeekly'\n\n// Util\nimport { parseTimestamp, getStartOfMonth, getEndOfMonth } from './util/timestamp'\nimport { CalendarTimestamp } from 'vuetify/types'\n\n/* @vue/component */\nexport default VCalendarWeekly.extend({\n  name: 'v-calendar-monthly',\n\n  computed: {\n    staticClass (): string {\n      return 'v-calendar-monthly v-calendar-weekly'\n    },\n    parsedStart (): CalendarTimestamp {\n      return getStartOfMonth(parseTimestamp(this.start, true))\n    },\n    parsedEnd (): CalendarTimestamp {\n      return getEndOfMonth(parseTimestamp(this.end, true))\n    },\n  },\n\n})\n","\n// Mixins\nimport CalendarBase from './calendar-base'\n\n// Util\nimport props from '../util/props'\nimport {\n  parseTime,\n  copyTimestamp,\n  updateMinutes,\n  createDayList,\n  createIntervalList,\n  createNativeLocaleFormatter,\n  VTime,\n  MINUTES_IN_DAY,\n} from '../util/timestamp'\nimport { CalendarTimestamp, CalendarFormatter, CalendarDayBodySlotScope } from 'vuetify/types'\n\n/* @vue/component */\nexport default CalendarBase.extend({\n  name: 'calendar-with-intervals',\n\n  props: props.intervals,\n\n  computed: {\n    parsedFirstInterval (): number {\n      return parseInt(this.firstInterval)\n    },\n    parsedIntervalMinutes (): number {\n      return parseInt(this.intervalMinutes)\n    },\n    parsedIntervalCount (): number {\n      return parseInt(this.intervalCount)\n    },\n    parsedIntervalHeight (): number {\n      return parseFloat(this.intervalHeight)\n    },\n    parsedFirstTime (): number | false {\n      return parseTime(this.firstTime)\n    },\n    firstMinute (): number {\n      const time = this.parsedFirstTime\n\n      return time !== false && time >= 0 && time <= MINUTES_IN_DAY\n        ? time\n        : this.parsedFirstInterval * this.parsedIntervalMinutes\n    },\n    bodyHeight (): number {\n      return this.parsedIntervalCount * this.parsedIntervalHeight\n    },\n    days (): CalendarTimestamp[] {\n      return createDayList(\n        this.parsedStart,\n        this.parsedEnd,\n        this.times.today,\n        this.weekdaySkips,\n        this.maxDays\n      )\n    },\n    intervals (): CalendarTimestamp[][] {\n      const days: CalendarTimestamp[] = this.days\n      const first: number = this.firstMinute\n      const minutes: number = this.parsedIntervalMinutes\n      const count: number = this.parsedIntervalCount\n      const now: CalendarTimestamp = this.times.now\n\n      return days.map(d => createIntervalList(d, first, minutes, count, now))\n    },\n    intervalFormatter (): CalendarFormatter {\n      if (this.intervalFormat) {\n        return this.intervalFormat as CalendarFormatter\n      }\n\n      const longOptions = { timeZone: 'UTC', hour: '2-digit', minute: '2-digit' }\n      const shortOptions = { timeZone: 'UTC', hour: 'numeric', minute: '2-digit' }\n      const shortHourOptions = { timeZone: 'UTC', hour: 'numeric' }\n\n      return createNativeLocaleFormatter(\n        this.currentLocale,\n        (tms, short) => short ? (tms.minute === 0 ? shortHourOptions : shortOptions) : longOptions\n      )\n    },\n  },\n\n  methods: {\n    showIntervalLabelDefault (interval: CalendarTimestamp): boolean {\n      const first: CalendarTimestamp = this.intervals[0][0]\n      const isFirst: boolean = first.hour === interval.hour && first.minute === interval.minute\n      return !isFirst\n    },\n    intervalStyleDefault (_interval: CalendarTimestamp): object | undefined {\n      return undefined\n    },\n    getTimestampAtEvent (e: MouseEvent | TouchEvent, day: CalendarTimestamp): CalendarTimestamp {\n      const timestamp: CalendarTimestamp = copyTimestamp(day)\n      const bounds = (e.currentTarget as HTMLElement).getBoundingClientRect()\n      const baseMinutes: number = this.firstMinute\n      const touchEvent: TouchEvent = e as TouchEvent\n      const mouseEvent: MouseEvent = e as MouseEvent\n      const touches: TouchList = touchEvent.changedTouches || touchEvent.touches\n      const clientY: number = touches && touches[0] ? touches[0].clientY : mouseEvent.clientY\n      const addIntervals: number = (clientY - bounds.top) / this.parsedIntervalHeight\n      const addMinutes: number = Math.floor(addIntervals * this.parsedIntervalMinutes)\n      const minutes: number = baseMinutes + addMinutes\n\n      return updateMinutes(timestamp, minutes, this.times.now)\n    },\n    getSlotScope (timestamp: CalendarTimestamp): CalendarDayBodySlotScope {\n      const scope = copyTimestamp(timestamp) as any\n      scope.timeToY = this.timeToY\n      scope.timeDelta = this.timeDelta\n      scope.minutesToPixels = this.minutesToPixels\n      scope.week = this.days\n      return scope\n    },\n    scrollToTime (time: VTime): boolean {\n      const y = this.timeToY(time)\n      const pane = this.$refs.scrollArea as HTMLElement\n\n      if (y === false || !pane) {\n        return false\n      }\n\n      pane.scrollTop = y\n\n      return true\n    },\n    minutesToPixels (minutes: number): number {\n      return minutes / this.parsedIntervalMinutes * this.parsedIntervalHeight\n    },\n    timeToY (time: VTime, clamp = true): number | false {\n      let y = this.timeDelta(time)\n\n      if (y !== false) {\n        y *= this.bodyHeight\n\n        if (clamp) {\n          if (y < 0) {\n            y = 0\n          }\n          if (y > this.bodyHeight) {\n            y = this.bodyHeight\n          }\n        }\n      }\n\n      return y\n    },\n    timeDelta (time: VTime): number | false {\n      const minutes = parseTime(time)\n\n      if (minutes === false) {\n        return false\n      }\n\n      const min: number = this.firstMinute\n      const gap: number = this.parsedIntervalCount * this.parsedIntervalMinutes\n\n      return (minutes - min) / gap\n    },\n  },\n})\n","// Styles\nimport './VCalendarDaily.sass'\n\n// Types\nimport { VNode } from 'vue'\n\n// Directives\nimport Resize from '../../directives/resize'\n\n// Components\nimport VBtn from '../VBtn'\n\n// Mixins\nimport CalendarWithIntervals from './mixins/calendar-with-intervals'\n\n// Util\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { CalendarTimestamp } from 'vuetify/types'\n\n/* @vue/component */\nexport default CalendarWithIntervals.extend({\n  name: 'v-calendar-daily',\n\n  directives: { Resize },\n\n  data: () => ({\n    scrollPush: 0,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-calendar-daily': true,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  mounted () {\n    this.init()\n  },\n\n  methods: {\n    init () {\n      this.$nextTick(this.onResize)\n    },\n    onResize () {\n      this.scrollPush = this.getScrollPush()\n    },\n    getScrollPush (): number {\n      const area = this.$refs.scrollArea as HTMLElement\n      const pane = this.$refs.pane as HTMLElement\n\n      return area && pane ? (area.offsetWidth - pane.offsetWidth) : 0\n    },\n    genHead (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-daily__head',\n        style: {\n          marginRight: this.scrollPush + 'px',\n        },\n      }, [\n        this.genHeadIntervals(),\n        ...this.genHeadDays(),\n      ])\n    },\n    genHeadIntervals (): VNode {\n      const width: string | undefined = convertToUnit(this.intervalWidth)\n\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-daily__intervals-head',\n        style: {\n          width,\n        },\n      }, getSlot(this, 'interval-header'))\n    },\n    genHeadDays (): VNode[] {\n      return this.days.map(this.genHeadDay)\n    },\n    genHeadDay (day: CalendarTimestamp, index: number): VNode {\n      return this.$createElement('div', {\n        key: day.date,\n        staticClass: 'v-calendar-daily_head-day',\n        class: this.getRelativeClasses(day),\n        on: this.getDefaultMouseEventHandlers(':day', _e => {\n          return this.getSlotScope(day)\n        }),\n      }, [\n        this.genHeadWeekday(day),\n        this.genHeadDayLabel(day),\n        ...this.genDayHeader(day, index),\n      ])\n    },\n    genDayHeader (day: CalendarTimestamp, index: number): VNode[] {\n      return getSlot(this, 'day-header', () => ({\n        week: this.days, ...day, index,\n      })) || []\n    },\n    genHeadWeekday (day: CalendarTimestamp): VNode {\n      const color = day.present ? this.color : undefined\n\n      return this.$createElement('div', this.setTextColor(color, {\n        staticClass: 'v-calendar-daily_head-weekday',\n      }), this.weekdayFormatter(day, this.shortWeekdays))\n    },\n    genHeadDayLabel (day: CalendarTimestamp): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-daily_head-day-label',\n      }, getSlot(this, 'day-label-header', day) || [this.genHeadDayButton(day)])\n    },\n    genHeadDayButton (day: CalendarTimestamp): VNode {\n      const color = day.present ? this.color : 'transparent'\n\n      return this.$createElement(VBtn, {\n        props: {\n          color,\n          fab: true,\n          depressed: true,\n        },\n        on: this.getMouseEventHandlers({\n          'click:date': { event: 'click', stop: true },\n          'contextmenu:date': { event: 'contextmenu', stop: true, prevent: true, result: false },\n        }, _e => {\n          return day\n        }),\n      }, this.dayFormatter(day, false))\n    },\n    genBody (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-daily__body',\n      }, [\n        this.genScrollArea(),\n      ])\n    },\n    genScrollArea (): VNode {\n      return this.$createElement('div', {\n        ref: 'scrollArea',\n        staticClass: 'v-calendar-daily__scroll-area',\n      }, [\n        this.genPane(),\n      ])\n    },\n    genPane (): VNode {\n      return this.$createElement('div', {\n        ref: 'pane',\n        staticClass: 'v-calendar-daily__pane',\n        style: {\n          height: convertToUnit(this.bodyHeight),\n        },\n      }, [\n        this.genDayContainer(),\n      ])\n    },\n    genDayContainer (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-daily__day-container',\n      }, [\n        this.genBodyIntervals(),\n        ...this.genDays(),\n      ])\n    },\n    genDays (): VNode[] {\n      return this.days.map(this.genDay)\n    },\n    genDay (day: CalendarTimestamp, index: number): VNode {\n      return this.$createElement('div', {\n        key: day.date,\n        staticClass: 'v-calendar-daily__day',\n        class: this.getRelativeClasses(day),\n        on: this.getDefaultMouseEventHandlers(':time', e => {\n          return this.getSlotScope(this.getTimestampAtEvent(e, day))\n        }),\n      }, [\n        ...this.genDayIntervals(index),\n        ...this.genDayBody(day),\n      ])\n    },\n    genDayBody (day: CalendarTimestamp): VNode[] {\n      return getSlot(this, 'day-body', () => this.getSlotScope(day)) || []\n    },\n    genDayIntervals (index: number): VNode[] {\n      return this.intervals[index].map(this.genDayInterval)\n    },\n    genDayInterval (interval: CalendarTimestamp): VNode {\n      const height: string | undefined = convertToUnit(this.intervalHeight)\n      const styler = this.intervalStyle || this.intervalStyleDefault\n\n      const data = {\n        key: interval.time,\n        staticClass: 'v-calendar-daily__day-interval',\n        style: {\n          height,\n          ...styler(interval),\n        },\n      }\n\n      const children = getSlot(this, 'interval', () => this.getSlotScope(interval))\n\n      return this.$createElement('div', data, children)\n    },\n    genBodyIntervals (): VNode {\n      const width: string | undefined = convertToUnit(this.intervalWidth)\n      const data = {\n        staticClass: 'v-calendar-daily__intervals-body',\n        style: {\n          width,\n        },\n        on: this.getDefaultMouseEventHandlers(':interval', e => {\n          return this.getTimestampAtEvent(e, this.parsedStart)\n        }),\n      }\n\n      return this.$createElement('div', data, this.genIntervalLabels())\n    },\n    genIntervalLabels (): VNode[] | null {\n      if (!this.intervals.length) return null\n\n      return this.intervals[0].map(this.genIntervalLabel)\n    },\n    genIntervalLabel (interval: CalendarTimestamp): VNode {\n      const height: string | undefined = convertToUnit(this.intervalHeight)\n      const short: boolean = this.shortIntervals\n      const shower = this.showIntervalLabel || this.showIntervalLabelDefault\n      const show = shower(interval)\n      const label = show ? this.intervalFormatter(interval, short) : undefined\n\n      return this.$createElement('div', {\n        key: interval.time,\n        staticClass: 'v-calendar-daily__interval',\n        style: {\n          height,\n        },\n      }, [\n        this.$createElement('div', {\n          staticClass: 'v-calendar-daily__interval-text',\n        }, label),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      class: this.classes,\n      on: {\n        dragstart: (e: MouseEvent) => {\n          e.preventDefault()\n        },\n      },\n      directives: [{\n        modifiers: { quiet: true },\n        name: 'resize',\n        value: this.onResize,\n      }],\n    }, [\n      !this.hideHeader ? this.genHead() : '',\n      this.genBody(),\n    ])\n  },\n})\n","// Styles\nimport './VCalendarCategory.sass'\n\n// Types\nimport { VNode } from 'vue'\n\n// Mixins\nimport VCalendarDaily from './VCalendarDaily'\n\n// Util\nimport { getSlot } from '../../util/helpers'\nimport { CalendarTimestamp } from 'types'\nimport props from './util/props'\n\n/* @vue/component */\nexport default VCalendarDaily.extend({\n  name: 'v-calendar-category',\n\n  props: props.category,\n\n  computed: {\n    classes (): object {\n      return {\n        'v-calendar-daily': true,\n        'v-calendar-category': true,\n        ...this.themeClasses,\n      }\n    },\n    parsedCategories (): string[] {\n      return typeof this.categories === 'string' && this.categories\n        ? this.categories.split(/\\s*,\\s*/)\n        : Array.isArray(this.categories)\n          ? this.categories as string[]\n          : []\n    },\n  },\n\n  methods: {\n    genDayHeader (day: CalendarTimestamp, index: number): VNode[] {\n      const data = {\n        staticClass: 'v-calendar-category__columns',\n      }\n      const scope = {\n        week: this.days, ...day, index,\n      }\n\n      const children = this.parsedCategories.map(category => this.genDayHeaderCategory(day, this.getCategoryScope(scope, category)))\n\n      return [this.$createElement('div', data, children)]\n    },\n    getCategoryScope (scope: any, category: string) {\n      return {\n        ...scope,\n        category: category === this.categoryForInvalid ? null : category,\n      }\n    },\n    genDayHeaderCategory (day: CalendarTimestamp, scope: any): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-category__column-header',\n        on: this.getDefaultMouseEventHandlers(':day-category', e => {\n          return this.getCategoryScope(this.getSlotScope(day), scope.category)\n        }),\n      }, [\n        getSlot(this, 'category', scope) || this.genDayHeaderCategoryTitle(scope.category),\n        getSlot(this, 'day-header', scope),\n      ])\n    },\n    genDayHeaderCategoryTitle (category: string) {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-category__category',\n      }, category === null ? this.categoryForInvalid : category)\n    },\n    genDayBody (day: CalendarTimestamp): VNode[] {\n      const data = {\n        staticClass: 'v-calendar-category__columns',\n      }\n\n      const children = this.parsedCategories.map(category => this.genDayBodyCategory(day, category))\n\n      return [this.$createElement('div', data, children)]\n    },\n    genDayBodyCategory (day: CalendarTimestamp, category: string): VNode {\n      const data = {\n        staticClass: 'v-calendar-category__column',\n        on: this.getDefaultMouseEventHandlers(':time-category', e => {\n          return this.getCategoryScope(this.getSlotScope(this.getTimestampAtEvent(e, day)), category)\n        }),\n      }\n\n      const children = getSlot(this, 'day-body', () => this.getCategoryScope(this.getSlotScope(day), category))\n\n      return this.$createElement('div', data, children)\n    },\n  },\n})\n","// Styles\n// import '../../stylus/components/_calendar-daily.styl'\n\n// Types\nimport { VNode, Component } from 'vue'\n\n// Mixins\nimport CalendarWithEvents from './mixins/calendar-with-events'\n\n// Util\nimport props from './util/props'\nimport {\n  DAYS_IN_MONTH_MAX,\n  DAY_MIN,\n  DAYS_IN_WEEK,\n  parseTimestamp,\n  validateTimestamp,\n  relativeDays,\n  nextDay,\n  prevDay,\n  copyTimestamp,\n  updateFormatted,\n  updateWeekday,\n  updateRelative,\n  getStartOfMonth,\n  getEndOfMonth,\n  VTime,\n  VTimestampInput,\n  timestampToDate,\n} from './util/timestamp'\n\n// Calendars\nimport VCalendarMonthly from './VCalendarMonthly'\nimport VCalendarDaily from './VCalendarDaily'\nimport VCalendarWeekly from './VCalendarWeekly'\nimport VCalendarCategory from './VCalendarCategory'\nimport { CalendarTimestamp, CalendarFormatter } from 'vuetify/types'\n\n// Types\ninterface VCalendarRenderProps {\n  start: CalendarTimestamp\n  end: CalendarTimestamp\n  component: string | Component\n  maxDays: number\n  weekdays: number[]\n  categories: string[]\n}\n\n/* @vue/component */\nexport default CalendarWithEvents.extend({\n  name: 'v-calendar',\n\n  props: {\n    ...props.calendar,\n    ...props.weeks,\n    ...props.intervals,\n    ...props.category,\n  },\n\n  data: () => ({\n    lastStart: null as CalendarTimestamp | null,\n    lastEnd: null as CalendarTimestamp | null,\n  }),\n\n  computed: {\n    parsedValue (): CalendarTimestamp {\n      return (validateTimestamp(this.value)\n        ? parseTimestamp(this.value, true)\n        : (this.parsedStart || this.times.today))\n    },\n    parsedCategoryDays (): number {\n      return parseInt(this.categoryDays) || 1\n    },\n    renderProps (): VCalendarRenderProps {\n      const around = this.parsedValue\n      let component: any = null\n      let maxDays = this.maxDays\n      let weekdays = this.parsedWeekdays\n      let categories = this.parsedCategories\n      let start = around\n      let end = around\n      switch (this.type) {\n        case 'month':\n          component = VCalendarMonthly\n          start = getStartOfMonth(around)\n          end = getEndOfMonth(around)\n          break\n        case 'week':\n          component = VCalendarDaily\n          start = this.getStartOfWeek(around)\n          end = this.getEndOfWeek(around)\n          maxDays = 7\n          break\n        case 'day':\n          component = VCalendarDaily\n          maxDays = 1\n          weekdays = [start.weekday]\n          break\n        case '4day':\n          component = VCalendarDaily\n          end = relativeDays(copyTimestamp(end), nextDay, 4)\n          updateFormatted(end)\n          maxDays = 4\n          weekdays = [\n            start.weekday,\n            (start.weekday + 1) % 7,\n            (start.weekday + 2) % 7,\n            (start.weekday + 3) % 7,\n          ]\n          break\n        case 'custom-weekly':\n          component = VCalendarWeekly\n          start = this.parsedStart || around\n          end = this.parsedEnd\n          break\n        case 'custom-daily':\n          component = VCalendarDaily\n          start = this.parsedStart || around\n          end = this.parsedEnd\n          break\n        case 'category':\n          const days = this.parsedCategoryDays\n\n          component = VCalendarCategory\n          end = relativeDays(copyTimestamp(end), nextDay, days)\n          updateFormatted(end)\n          maxDays = days\n          weekdays = []\n\n          for (let i = 0; i < days; i++) {\n            weekdays.push((start.weekday + i) % 7)\n          }\n\n          categories = this.getCategoryList(categories)\n          break\n        default:\n          throw new Error(this.type + ' is not a valid Calendar type')\n      }\n\n      return { component, start, end, maxDays, weekdays, categories }\n    },\n    eventWeekdays (): number[] {\n      return this.renderProps.weekdays\n    },\n    categoryMode (): boolean {\n      return this.type === 'category'\n    },\n    title (): string {\n      const { start, end } = this.renderProps\n      const spanYears = start.year !== end.year\n      const spanMonths = spanYears || start.month !== end.month\n\n      if (spanYears) {\n        return this.monthShortFormatter(start, true) + ' ' + start.year + ' - ' + this.monthShortFormatter(end, true) + ' ' + end.year\n      }\n\n      if (spanMonths) {\n        return this.monthShortFormatter(start, true) + ' - ' + this.monthShortFormatter(end, true) + ' ' + end.year\n      } else {\n        return this.monthLongFormatter(start, false) + ' ' + start.year\n      }\n    },\n    monthLongFormatter (): CalendarFormatter {\n      return this.getFormatter({\n        timeZone: 'UTC', month: 'long',\n      })\n    },\n    monthShortFormatter (): CalendarFormatter {\n      return this.getFormatter({\n        timeZone: 'UTC', month: 'short',\n      })\n    },\n    parsedCategories (): string[] {\n      return typeof this.categories === 'string' && this.categories\n        ? this.categories.split(/\\s*,\\s*/)\n        : Array.isArray(this.categories)\n          ? this.categories as string[]\n          : []\n    },\n  },\n\n  watch: {\n    renderProps: 'checkChange',\n  },\n\n  mounted () {\n    this.updateEventVisibility()\n    this.checkChange()\n  },\n\n  updated () {\n    window.requestAnimationFrame(this.updateEventVisibility)\n  },\n\n  methods: {\n    checkChange (): void {\n      const { lastStart, lastEnd } = this\n      const { start, end } = this.renderProps\n      if (!lastStart || !lastEnd ||\n        start.date !== lastStart.date ||\n        end.date !== lastEnd.date) {\n        this.lastStart = start\n        this.lastEnd = end\n        this.$emit('change', { start, end })\n      }\n    },\n    move (amount = 1): void {\n      const moved = copyTimestamp(this.parsedValue)\n      const forward = amount > 0\n      const mover = forward ? nextDay : prevDay\n      const limit = forward ? DAYS_IN_MONTH_MAX : DAY_MIN\n      let times = forward ? amount : -amount\n\n      while (--times >= 0) {\n        switch (this.type) {\n          case 'month':\n            moved.day = limit\n            mover(moved)\n            break\n          case 'week':\n            relativeDays(moved, mover, DAYS_IN_WEEK)\n            break\n          case 'day':\n            relativeDays(moved, mover, 1)\n            break\n          case '4day':\n            relativeDays(moved, mover, 4)\n            break\n          case 'category':\n            relativeDays(moved, mover, this.parsedCategoryDays)\n            break\n        }\n      }\n\n      updateWeekday(moved)\n      updateFormatted(moved)\n      updateRelative(moved, this.times.now)\n\n      if (this.value instanceof Date) {\n        this.$emit('input', timestampToDate(moved))\n      } else if (typeof this.value === 'number') {\n        this.$emit('input', timestampToDate(moved).getTime())\n      } else {\n        this.$emit('input', moved.date)\n      }\n\n      this.$emit('moved', moved)\n    },\n    next (amount = 1): void {\n      this.move(amount)\n    },\n    prev (amount = 1): void {\n      this.move(-amount)\n    },\n    timeToY (time: VTime, clamp = true): number | false {\n      const c = this.$children[0] as any\n\n      if (c && c.timeToY) {\n        return c.timeToY(time, clamp)\n      } else {\n        return false\n      }\n    },\n    timeDelta (time: VTime): number | false {\n      const c = this.$children[0] as any\n\n      if (c && c.timeDelta) {\n        return c.timeDelta(time)\n      } else {\n        return false\n      }\n    },\n    minutesToPixels (minutes: number): number {\n      const c = this.$children[0] as any\n\n      if (c && c.minutesToPixels) {\n        return c.minutesToPixels(minutes)\n      } else {\n        return -1\n      }\n    },\n    scrollToTime (time: VTime): boolean {\n      const c = this.$children[0] as any\n\n      if (c && c.scrollToTime) {\n        return c.scrollToTime(time)\n      } else {\n        return false\n      }\n    },\n    parseTimestamp (input: VTimestampInput, required?: false): CalendarTimestamp | null {\n      return parseTimestamp(input, required, this.times.now)\n    },\n    timestampToDate (timestamp: CalendarTimestamp): Date {\n      return timestampToDate(timestamp)\n    },\n    getCategoryList (categories: string[]): string[] {\n      if (!this.noEvents) {\n        const categoryMap = categories.reduce((map, category, index) => {\n          map[category] = { index, count: 0 }\n\n          return map\n        }, Object.create(null))\n\n        if (!this.categoryHideDynamic || !this.categoryShowAll) {\n          let categoryLength = categories.length\n\n          this.parsedEvents.forEach(ev => {\n            let category = ev.category\n\n            if (typeof category !== 'string') {\n              category = this.categoryForInvalid\n            }\n\n            if (!category) {\n              return\n            }\n\n            if (category in categoryMap) {\n              categoryMap[category].count++\n            } else if (!this.categoryHideDynamic) {\n              categoryMap[category] = {\n                index: categoryLength++,\n                count: 1,\n              }\n            }\n          })\n        }\n\n        if (!this.categoryShowAll) {\n          for (const category in categoryMap) {\n            if (categoryMap[category].count === 0) {\n              delete categoryMap[category]\n            }\n          }\n        }\n\n        categories = Object.keys(categoryMap)\n      }\n\n      return categories\n    },\n  },\n\n  render (h): VNode {\n    const { start, end, maxDays, component, weekdays, categories } = this.renderProps\n\n    return h(component, {\n      staticClass: 'v-calendar',\n      class: {\n        'v-calendar-events': !this.noEvents,\n      },\n      props: {\n        ...this.$props,\n        start: start.date,\n        end: end.date,\n        maxDays,\n        weekdays,\n        categories,\n      },\n      directives: [{\n        modifiers: { quiet: true },\n        name: 'resize',\n        value: this.updateEventVisibility,\n      }],\n      on: {\n        ...this.$listeners,\n        'click:date': (day: CalendarTimestamp) => {\n          if (this.$listeners['input']) {\n            this.$emit('input', day.date)\n          }\n          if (this.$listeners['click:date']) {\n            this.$emit('click:date', day)\n          }\n        },\n      },\n      scopedSlots: this.getScopedSlots(),\n    })\n  },\n})\n","import { render, staticRenderFns } from \"./AgendaCalendar.vue?vue&type=template&id=2acb5f2d&\"\nimport script from \"./AgendaCalendar.vue?vue&type=script&lang=ts&\"\nexport * from \"./AgendaCalendar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AgendaCalendar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VCalendar } from 'vuetify/lib/components/VCalendar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VBtnToggle,VCalendar,VCard,VDivider,VIcon,VSpacer,VToolbar})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Resize from 'vuetify/lib/directives/resize'\ninstallDirectives(component, {Resize})\n","// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function installDirectives (component, directives) {\n  var options = typeof component.exports === 'function'\n    ? component.exports.extendOptions\n    : component.options\n\n  if (typeof component.exports === 'function') {\n    options.directives = component.exports.options.directives\n  }\n\n  options.directives = options.directives || {}\n\n  for (var i in directives) {\n    options.directives[i] = options.directives[i] || directives[i]\n  }\n}\n","// Styles\nimport './VSkeletonLoader.sass'\n\n// Mixins\nimport Elevatable from '../../mixins/elevatable'\nimport Measurable from '../../mixins/measurable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\nimport { getSlot } from '../../util/helpers'\nimport { PropValidator } from 'vue/types/options'\n\nexport interface HTMLSkeletonLoaderElement extends HTMLElement {\n  _initialStyle?: {\n    display: string | null\n    transition: string\n  }\n}\n\n/* @vue/component */\nexport default mixins(\n  Elevatable,\n  Measurable,\n  Themeable,\n).extend({\n  name: 'VSkeletonLoader',\n\n  props: {\n    boilerplate: Boolean,\n    loading: Boolean,\n    tile: Boolean,\n    transition: String,\n    type: String,\n    types: {\n      type: Object,\n      default: () => ({}),\n    } as PropValidator<Record<string, string>>,\n  },\n\n  computed: {\n    attrs (): object {\n      if (!this.isLoading) return this.$attrs\n\n      return !this.boilerplate ? {\n        'aria-busy': true,\n        'aria-live': 'polite',\n        role: 'alert',\n        ...this.$attrs,\n      } : {}\n    },\n    classes (): object {\n      return {\n        'v-skeleton-loader--boilerplate': this.boilerplate,\n        'v-skeleton-loader--is-loading': this.isLoading,\n        'v-skeleton-loader--tile': this.tile,\n        ...this.themeClasses,\n        ...this.elevationClasses,\n      }\n    },\n    isLoading (): boolean {\n      return !('default' in this.$scopedSlots) || this.loading\n    },\n    rootTypes (): Record<string, string> {\n      return {\n        actions: 'button@2',\n        article: 'heading, paragraph',\n        avatar: 'avatar',\n        button: 'button',\n        card: 'image, card-heading',\n        'card-avatar': 'image, list-item-avatar',\n        'card-heading': 'heading',\n        chip: 'chip',\n        'date-picker': 'list-item, card-heading, divider, date-picker-options, date-picker-days, actions',\n        'date-picker-options': 'text, avatar@2',\n        'date-picker-days': 'avatar@28',\n        heading: 'heading',\n        image: 'image',\n        'list-item': 'text',\n        'list-item-avatar': 'avatar, text',\n        'list-item-two-line': 'sentences',\n        'list-item-avatar-two-line': 'avatar, sentences',\n        'list-item-three-line': 'paragraph',\n        'list-item-avatar-three-line': 'avatar, paragraph',\n        paragraph: 'text@3',\n        sentences: 'text@2',\n        table: 'table-heading, table-thead, table-tbody, table-tfoot',\n        'table-heading': 'heading, text',\n        'table-thead': 'heading@6',\n        'table-tbody': 'table-row-divider@6',\n        'table-row-divider': 'table-row, divider',\n        'table-row': 'table-cell@6',\n        'table-cell': 'text',\n        'table-tfoot': 'text@2, avatar@2',\n        text: 'text',\n        ...this.types,\n      }\n    },\n  },\n\n  methods: {\n    genBone (text: string, children: VNode[]) {\n      return this.$createElement('div', {\n        staticClass: `v-skeleton-loader__${text} v-skeleton-loader__bone`,\n      }, children)\n    },\n    genBones (bone: string): VNode[] {\n      // e.g. 'text@3'\n      const [type, length] = bone.split('@') as [string, number]\n      const generator = () => this.genStructure(type)\n\n      // Generate a length array based upon\n      // value after @ in the bone string\n      return Array.from({ length }).map(generator)\n    },\n    // Fix type when this is merged\n    // https://github.com/microsoft/TypeScript/pull/33050\n    genStructure (type?: string): any {\n      let children = []\n      type = type || this.type || ''\n      const bone = this.rootTypes[type] || ''\n\n      // End of recursion, do nothing\n      /* eslint-disable-next-line no-empty, brace-style */\n      if (type === bone) {}\n      // Array of values - e.g. 'heading, paragraph, text@2'\n      else if (type.indexOf(',') > -1) return this.mapBones(type)\n      // Array of values - e.g. 'paragraph@4'\n      else if (type.indexOf('@') > -1) return this.genBones(type)\n      // Array of values - e.g. 'card@2'\n      else if (bone.indexOf(',') > -1) children = this.mapBones(bone)\n      // Array of values - e.g. 'list-item@2'\n      else if (bone.indexOf('@') > -1) children = this.genBones(bone)\n      // Single value - e.g. 'card-heading'\n      else if (bone) children.push(this.genStructure(bone))\n\n      return [this.genBone(type, children)]\n    },\n    genSkeleton () {\n      const children = []\n\n      if (!this.isLoading) children.push(getSlot(this))\n      else children.push(this.genStructure())\n\n      /* istanbul ignore else */\n      if (!this.transition) return children\n\n      /* istanbul ignore next */\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition,\n        },\n        // Only show transition when\n        // content has been loaded\n        on: {\n          afterEnter: this.resetStyles,\n          beforeEnter: this.onBeforeEnter,\n          beforeLeave: this.onBeforeLeave,\n          leaveCancelled: this.resetStyles,\n        },\n      }, children)\n    },\n    mapBones (bones: string) {\n      // Remove spaces and return array of structures\n      return bones.replace(/\\s/g, '').split(',').map(this.genStructure)\n    },\n    onBeforeEnter (el: HTMLSkeletonLoaderElement) {\n      this.resetStyles(el)\n\n      if (!this.isLoading) return\n\n      el._initialStyle = {\n        display: el.style.display,\n        transition: el.style.transition,\n      }\n\n      el.style.setProperty('transition', 'none', 'important')\n    },\n    onBeforeLeave (el: HTMLSkeletonLoaderElement) {\n      el.style.setProperty('display', 'none', 'important')\n    },\n    resetStyles (el: HTMLSkeletonLoaderElement) {\n      if (!el._initialStyle) return\n\n      el.style.display = el._initialStyle.display || ''\n      el.style.transition = el._initialStyle.transition\n\n      delete el._initialStyle\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-skeleton-loader',\n      attrs: this.attrs,\n      on: this.$listeners,\n      class: this.classes,\n      style: this.isLoading ? this.measurableStyles : undefined,\n    }, [this.genSkeleton()])\n  },\n})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgendaCalendar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgendaCalendar.vue?vue&type=style&index=0&lang=scss&\"","import VBtn from './VBtn'\n\nexport { VBtn }\nexport default VBtn\n","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n"],"sourceRoot":""}